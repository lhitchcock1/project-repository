!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://ovp.iris.tv/plugins/",n(n.s=56)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(i=n(2))&&i.__esModule?i:{default:i},s={generateRandomString:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<e;i+=1)t+=n.charAt(Math.floor(Math.random()*n.length));return t},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6);var i="expires="+n.toGMTString();document.cookie=e+"="+t+"; path=/;"+i},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i+=1){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},deleteCookie:function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain="},setUserId:function(e){this.deleteCookie("user_id");var t=this.getCookie("iris_user_id");if(""!==t)this.deleteCookie("iris_user_id");else{var n="UP-"+this.generateRandomString(15);!0===e&&this.setCookie("iris_user_id",n),t=n}return t},instanceIdFor:function(e,t){return e+"-"+t},isRestrictedDevice:function(){var e=navigator.userAgent||navigator.vendor||window.opera,t=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0,a.default.debug("Detecting Mobile Device","HELPERS")),t},loadCSS:function(e){if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="all",n.id=e,n.href=e,t.appendChild(n)}},hasKey:function(e,t){var n=e;return t.split(".").every(function(e){return!!("object"===(void 0===n?"undefined":r(n))&&null!==n&&e in n&&n[e])&&(n=n[e],!0)})},isValidArray:function(e){return e&&Array.isArray(e)&&e.length>0},getProp:function(e,t,n){if(!e||!t)return n;var i=Array.isArray(t)?t:t.split("."),r=e[i[0]];return r&&i.length>1?this.getProp(r,i.slice(1),n):void 0===r||null===r?n:r},publishReadyEvent:function(e,t){window.dispatchEvent(new CustomEvent("irisResponseReady",{detail:{data:e,platform_id:this.getProp(t,"initialPlatformId"),player_id:this.getProp(t,"environment.player_id")}}))},getSSLImage:function(e){var t=e;return t&&"string"==typeof t&&(t=t.replace("http:","")),t}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),s=g(n(29)),o=g(n(3)),l=g(n(2)),u=g(n(0)),c=g(n(47)),d=g(n(9)),f=g(n(46)),h=g(n(45)),p=g(n(28)),_=g(n(43)),v=g(n(24)),y=g(n(5));function g(e){return e&&e.__esModule?e:{default:e}}var m={},b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.settings;if(m[t]={player:new c.default(t,n.player_elements),currentAsset:function(){var e=this.playlist.getInfo()[this.currentIndex];return void 0===e&&(e=new s.default({})),e},playlist:new d.default(t),behavior:{},currentIndex:0,environment:r,initialPlatformId:r.platform_id,ui_settings:n.iris_buttons,id:t},void 0!==m[t].environment.user_id&&""!==m[t].environment.user_id||(m[t].environment.user_id=u.default.setUserId(!1)),m[t].playlist.recs.push(new s.default({platform_id:m[t].environment.platform_id,eid:t})),r.start_up_next){var y={start_time:r.start_up_next_time,display_length:r.start_up_next_length,min_video_length:r.up_next_min_vid_length,up_next_text:r.start_up_next_text};m[t].irisStartNextSlate=new p.default(t,y)}if(!0===r.end_up_next){var g={start_time:r.end_up_next_time,display_length:r.end_up_next_length,min_video_length:r.up_next_min_vid_length,up_next_text:r.end_up_next_text};m[t].irisEndNextSlate=new _.default(t,g)}!0===n.settings.side_rail&&(m[t].sideRail=new f.default(t,{number:n.settings.number})),!0===n.settings.related_rail&&(m[t].relatedRail=new h.default(t)),i(this,m[t],a.EventEmitter.prototype),v.default.addIrisButtons(t),m[t].reg_currentDuration=!1,m[t].reg_currentTime=!1,m[t].reg_play=!1,o.default.new_experience(t),window.irisInstances=window.irisInstances||[];var b={id:m[t].player.player_id,eid:m[t].id};window.irisInstances.push(b),l.default.debug("Iris experience id: "+t,"EXPERIENCE",t)}return r(e,null,[{key:"setInfo",value:function(e,t){return Object.keys(t).forEach(function(n){Object.prototype.hasOwnProperty.call(t,n)&&(m[e][n]=t[n])}),m[e]}},{key:"getInfo",value:function(e){return m[e]}},{key:"getProtocol",value:function(e){return m[e].environment.ssl?"https":"http"}},{key:"getPlayer",value:function(e){return m[e].player}},{key:"getCurrentAsset",value:function(e){var t=m[e].currentAsset();return void 0===t&&(t={}),t}},{key:"getCurrentIndex",value:function(e){return m[e].currentIndex}},{key:"getPlaylist",value:function(e){return m[e].playlist.recs}},{key:"registerPlaying",value:function(t){e.setInfo(t,{playing:!0}),e.getCurrentAsset(t).setInfo({playing:!0}),e.emitChange()}},{key:"watch",value:function(e){o.default.watch(e)}},{key:"endOfPlaylist",value:function(t){return e.getCurrentIndex(t)>=e.getPlaylist(t).length-1}},{key:"beginningOfPlaylist",value:function(t){return e.getCurrentAsset(t).platform_id===e.getPlaylist(t)[0].platform_id}},{key:"addBehavior",value:function(t,n,i){Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(m[t].behavior[e]=n[e])}),o.default.update(t,n,i),o.default.addedBehavior(t,n),e.emitChange()}},{key:"clearBehavior",value:function(e){Object.keys(e).forEach(function(e){/^behavior*/.test(e)&&delete m.behavior[e.replace(/behavior\[/g,"").replace(/\]/g,"")]})}},{key:"setDefaultAsset",value:function(e){var t={platform_id:m[e].environment.platform_id,unknown_asset:!0};m[e].playlist.addToFirstPosition(t)}},{key:"updateCurrentAsset",value:function(e){var t=m[e].currentAsset();m[e].environment.platform_id=t.platform_id}},{key:"getExperiences",value:function(){return m}},{key:"percentageWatched",value:function(e){var t=m[e].player.player_id;return(m[e].player.currentTime(t)/m[e].player.currentDuration(t)).toFixed(2)}},{key:"secondsWatched",value:function(e){return m[e].player.currentTime(m[e].player.player_id)}},{key:"duration",value:function(e){return m[e].player.currentDuration(m[e].player.player_id)}},{key:"emitChange",value:function(){a.EventEmitter.prototype.emit("change")}},{key:"incrementCurrentIndex",value:function(e){m[e].currentIndex+=1,o.default.experienceUpdate(e)}},{key:"decrementCurrentIndex",value:function(e){m[e].currentIndex>0&&(m[e].currentIndex-=1,o.default.experienceUpdate(e))}},{key:"skipToIndex",value:function(e,t){m[e].currentIndex=t,o.default.experienceUpdate(e)}},{key:"nextAsset",value:function(t){var n=m[t];n.successiveNextAttempts=n.successiveNextAttempts?n.successiveNextAttempts:0,e.getCurrentIndex(t)>=e.getPlaylist(t).length-1?(n.successiveNextAttempts+=1,n.successiveNextAttempts<3?o.default.next(t):o.default.emit(t,y.default.EXPERIENCE_ERROR)):(n.successiveNextAttempts=0,m[t].currentAsset().reset(),e.incrementCurrentIndex(t))}},{key:"prevAsset",value:function(t){m[t].currentAsset().reset(),e.decrementCurrentIndex(t)}},{key:"skipToAsset",value:function(t,n){for(var i=e.getPlaylist(t),r=void 0,a=0;a<=i.length-1;a++)if(i[a].platform_id===n){r=a;break}void 0!==r?e.skipToIndex(t,r):l.default.error("[skipToAsset] Asset does not exist on current experience","Experience")}},{key:"displayStartSlate",value:function(e){return m[e].environment.start_up_next}},{key:"displayEndSlate",value:function(e){return m[e].environment.end_up_next}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={setLevel:function(e){this.logLevel=e},event:function(e,t){"debug"===this.logLevel&&console.log("[EVENT BUFFER]["+t+"]: "+e)},info:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";console.log("["+t+"][Info]: "+e)},debug:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"debug"===this.logLevel&&(null!==i?console.log("["+t+"][Debug]["+n+"]: "+e,{data:i}):console.log("["+t+"][Debug]["+n+"]: "+e))},warn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";"debug"===this.logLevel&&console.warn("["+t+"][Warning]: "+e)},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Core";console.error("["+t+"][Error]: "+e)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),s=n(6),o=c(n(1)),l=c(n(5)),u=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a.EventEmitter.prototype)}return r(e,null,[{key:"checkIfPlaying",value:function(t,n,i){n>0&&!0!==i.playing&&e.playing(t)}},{key:"checkOptionalBeacons",value:function(t,n,i){!0===o.default.getInfo(t).environment.campaign_tracking&&n>=.5&&n<=.75&&!0!==i.PW_50&&!0===i.playing&&!i.PW_75&&e.percentageWatched50(t,n)}},{key:"checkMandatoryBeacons",value:function(t,n,i){var r=o.default.getInfo(t);u.default.getSetting("platform"),n>=.25&&n<=.5&&!0!==i.PW_25&&!0===i.playing?e.percentageWatched25(t,n):n>=.75&&n<=.98&&!0!==i.PW_75&&!0===i.playing?e.percentageWatched75(t,n):n>=.97&&r.player.currentDuration(r.player.player_id)-r.player.currentTime(r.player.player_id)<=.8&&!0===i.playing&&!i.ended?e.ended(t,n,"next_auto"):n>=.999&&r.player.currentDuration(r.player.player_id)>150&&!0===i.playing&&!i.ended&&e.ended(t,n,"next_auto")}},{key:"checkSecondsBeacons",value:function(t,n,i){!0===o.default.getInfo(t).environment.campaign_tracking&&(!(n>=3&&n<=5&&!0!==i.SW_03&&!0===i.playing)||i.PW_05||i.PW_10||i.PW_15||i.PW_30?n>=5&&n<=10&&!0!==i.SW_05&&!0===i.playing&&!i.PW_10&&!i.PW_15&&!i.PW_30?e.secondsWatched5(t,n):n>=10&&n<=15&&!0!==i.SW_10&&!0===i.playing&&!i.PW_15&&!i.PW_30?e.secondsWatched10(t,n):n>=15&&n<=30&&!0!==i.SW_15&&!0===i.playing&&!i.PW_30?e.secondsWatched15(t,n):n>=30&&!0!==i.SW_30&&!0===i.playing&&e.secondsWatched30(t,n):e.secondsWatched3(t,n))}},{key:"emit",value:function(e,t,n){(0,s.dispatch)({actionType:t,data:n,experienceId:e})}},{key:"pollPercentageWatched",value:function(t){var n=o.default.percentageWatched(t),i=o.default.getCurrentAsset(t),r=o.default.secondsWatched(t);e.checkIfPlaying(t,n,i),e.checkOptionalBeacons(t,n,i),e.checkMandatoryBeacons(t,n,i),e.checkSecondsBeacons(t,r,i);var a=e;e.pollingTimeout={},e.pollingTimeout[t]=setTimeout(function(){a.pollPercentageWatched(t)},800)}},{key:"stopPolling",value:function(t){clearTimeout(e.pollingTimeout[t])}},{key:"new_experience",value:function(t){e.emit(t,l.default.NEW_EXPERIENCE)}},{key:"experienceUpdate",value:function(t){e.emit(t,l.default.EXPERIENCE_UPDATE)}},{key:"first_play",value:function(t){e.emit(t,l.default.FIRST_PLAY)}},{key:"play",value:function(t){e.emit(t,l.default.PLAY)}},{key:"playing",value:function(t){e.emit(t,l.default.PLAYING)}},{key:"addedBehavior",value:function(t,n){e.emit(t,l.default.ADDED_BEHAVIOR,n)}},{key:"ended",value:function(t,n,i){e.emit(t,l.default.ENDED,{percentageWatched:n,type:i})}},{key:"percentageWatched02",value:function(t,n){e.emit(t,l.default.PW_02,{percentageWatched:n})}},{key:"percentageWatched25",value:function(t,n){e.emit(t,l.default.PW_25,{percentageWatched:n})}},{key:"percentageWatched50",value:function(t,n){e.emit(t,l.default.PW_50,{percentageWatched:n})}},{key:"percentageWatched75",value:function(t,n){e.emit(t,l.default.PW_75,{percentageWatched:n})}},{key:"secondsWatched3",value:function(t,n){e.emit(t,l.default.SW_03,{secondsWatched:n})}},{key:"secondsWatched5",value:function(t,n){e.emit(t,l.default.SW_05,{secondsWatched:n})}},{key:"secondsWatched10",value:function(t,n){e.emit(t,l.default.SW_10,{secondsWatched:n})}},{key:"secondsWatched15",value:function(t,n){e.emit(t,l.default.SW_15,{secondsWatched:n})}},{key:"secondsWatched30",value:function(t,n){e.emit(t,l.default.SW_30,{secondsWatched:n})}},{key:"watch",value:function(t){e.emit(t,l.default.MAKE_WATCH_REQUEST)}},{key:"update",value:function(t,n,i){e.emit(t,l.default.MAKE_UPDATE_REQUEST,{behavior:n,addParams:i})}},{key:"next",value:function(t){e.emit(t,l.default.MAKE_NEXT_REQUEST)}},{key:"thumbs_up",value:function(t){e.emit(t,l.default.THUMBS_UP)}},{key:"thumbs_down",value:function(t){e.emit(t,l.default.THUMBS_DOWN)}},{key:"skip_forward",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.emit(t,l.default.SKIP_FORWARD,n)}},{key:"skip_back",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.default.beginningOfPlaylist(t)||e.emit(t,l.default.SKIP_BACK,n)}},{key:"userActive",value:function(t){e.emit(t,l.default.USER_ACTIVITY)}},{key:"userInactive",value:function(t){e.emit(t,l.default.USER_INACTIVE)}}]),e}();t.default=d},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="Webkit Moz O ms".split(" ");function a(e,t,n){for(var i=e.style,a=0;a<r.length;++a)i[r[a]+s(t)]=n;i[t]=n}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&"object"===(void 0===e?"undefined":i(e))&&!!e}function l(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}e.exports={extend:function e(t,n,i){for(var r in t=t||{},n=n||{},i=i||!1,n)if(n.hasOwnProperty(r)){var a=t[r],s=n[r];i&&o(a)&&o(s)?t[r]=e(a,s,i):t[r]=s}return t},render:function(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],a=new RegExp("\\{"+i+"\\}","g");n=n.replace(a,r)}return n},setStyle:a,setStyles:function(e,t){l(t,function(t,n){null!==t&&void 0!==t&&(o(t)&&!0===t.prefix?a(e,n,t.value):e.style[n]=t)})},capitalize:s,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:o,forEachObject:l,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NEW_EXPERIENCE:"NEW_EXPERIENCE",FIRST_PLAY:"FIRST_PLAY",PLAY:"PLAY",PLAYING:"PLAYING",PERCENTAGE_WATCHED:"PERCENTAGE_WATCHED",ENDED:"ENDED",PW_02:"PERCENTAGE_WATCHED_02",PW_25:"PERCENTAGE_WATCHED_25",PW_50:"PERCENTAGE_WATCHED_50",PW_75:"PERCENTAGE_WATCHED_75",SW_03:"SECONDS_WATCHED_03",SW_05:"SECONDS_WATCHED_05",SW_10:"SECONDS_WATCHED_10",SW_15:"SECONDS_WATCHED_15",SW_30:"SECONDS_WATCHED_30",ADDED_BEHAVIOR:"ADDED_BEHAVIOR",WATCH_START:"WATCH_START",WATCH_SUCCESS:"WATCH_SUCCESS",WATCH_FAIL:"WATCH_FAIL",UPDATE_START:"UPDATE_START",UPDATE_SUCCESS:"UPDATE_SUCCESS",UPDATE_FAIL:"UPDATE_FAIL",NEXT_START:"NEXT_START",NEXT_SUCCESS:"NEXT_SUCCESS",NEXT_FAIL:"NEXT_FAIL",EXPERIENCE_UPDATE:"EXPERIENCE_UPDATE",NEW_ASSET:"NEW_ASSET",THUMBS_UP:"THUMBS_UP",THUMBS_DOWN:"THUMBS_DOWN",SKIP_FORWARD:"SKIP_FORWARD",SKIP_BACK:"SKIP_BACK",USER_ACTIVITY:"USER_ACTIVITY",USER_INACTIVE:"USER_INACTIVE",ASSET_CHANGE:"ASSET_CHANGE",MAKE_NEXT_REQUEST:"MAKE_NEXT_REQUEST",MAKE_WATCH_REQUEST:"MAKE_WATCH_REQUEST",MAKE_UPDATE_REQUEST:"MAKE_UPDATE_REQUEST",PLAYLIST_CHANGE:"PLAYLIST_CHANGE",AD_START:"AD_START",AD_END:"AD_END",EXPERIENCE_ERROR:"EXPERIENCE_ERROR",SKIP_ON_MEDIA_ERROR:"SKIP_ON_MEDIA_ERROR"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=t.Dispatcher=void 0;var i,r=(i=n(54))&&i.__esModule?i:{default:i},a=t.Dispatcher=new r.default,s=t.dispatch=a.queueDispatch.bind(a);t.default={Dispatcher:a,dispatch:s}},function(e,t,n){"use strict";var i=n(26),r=n(4),a=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=r.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),r.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),r.isObject(n)&&r.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var a,s=this._createSvgView(this._opts);if(!(a=r.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=a,this._container.appendChild(s.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&r.setStyles(s.svg,this._opts.svgStyle),this.svg=s.svg,this.path=s.path,this.trail=s.trail,this.text=null;var o=r.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(s.path,o),r.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.animate(e,t,n)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error("Object is destroyed");void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error("Object is destroyed");this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(e){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.set(e)},a.prototype.value=function(){if(null===this._progressPath)throw new Error("Object is destroyed");return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(e){if(null===this._progressPath)throw new Error("Object is destroyed");null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),r.isObject(e)?(r.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},a.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var i=this._createPath(e);return t.appendChild(i),{svg:t,path:i,trail:n}},a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},a.prototype._createTrail=function(e){var t=this._trailString(e),n=r.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},a.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},a.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var i=e.text.style;return i&&(e.text.autoStyleContainer&&(t.style.position="relative"),r.setStyles(n,i),i.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},a.prototype._initializeTextContainer=function(e,t,n){},a.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),i=parseFloat(t.getPropertyValue("height"),10);r.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(i=n(0))&&i.__esModule?i:{default:i},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return a(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=r({},this.options,e)}},{key:"getOptions",value:function(){return this.options}},{key:"getOption",value:function(e){return s.default.getProp(this.options,e,null)}},{key:"getSetting",value:function(e){return s.default.getProp(this.options,"settings."+e,null)}}]),e}();t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(1)),a=o(n(29)),s=n(6);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.recs=[],this.getInfo=this.getInfo.bind(this),this.addToPlaylist=this.addToPlaylist.bind(this)}return i(e,[{key:"addToPlaylist",value:function(e){var t=[],n=e;this.recs=this.recs.slice(0,r.default.getCurrentIndex(this.id)+1);for(var i=0;i<this.recs.length;i+=1)t.push(this.recs[i].platform_id||"UNKNOWN");for(var s=0;s<n.length;s+=1)if(n[s].platform_id&&n[s].iris_id&&-1===t.indexOf(n[s].platform_id)){n[s].eid=this.id;var o=new a.default(n[s]);this.recs.push(o),r.default.getInfo(this.id).player.validateVideo(o)}this.emitChange(this.id)}},{key:"addToPlaylistSideRailEnabled",value:function(e){for(var t=[],n=e,i=0;i<=this.recs.length-1;i+=1)!0!==this.recs[i].sideRailShown&&!0!==this.recs[i].playing&&(this.recs=this.recs.slice(0,i+1)),t.push(this.recs[i].platform_id||"UNKNOWN");for(var s=0;s<e.length;s+=1)if(e[s].platform_id&&e[s].iris_id&&-1===t.indexOf(e[s].platform_id)){n[s].eid=this.id;var o=new a.default(n[s]);this.recs.push(o),r.default.getInfo(this.id).player.validateVideo(o)}this.emitChange(this.id)}},{key:"addToFirstPosition",value:function(e){var t=e;t.eid=this.id,this.recs[0]=new a.default(t),r.default.getInfo(this.id).player.validateVideo(this.recs[0])}},{key:"addToNextPosition",value:function(e,t){var n=r.default.getCurrentIndex(this.id);this.recs.splice(n+1,0,t)}},{key:"getInfo",value:function(){return this.recs}},{key:"emitChange",value:function(e){(0,s.dispatch)({actionType:"PLAYLIST_CHANGE",experienceId:e})}},{key:"removeFromPlaylist",value:function(e){if(e)for(var t=0;t<this.recs.length;t+=1)if(this.recs[t].platform_id===e){this.recs.splice(t,1);break}}}]),e}();t.default=l},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function s(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,i,r,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(s(n))for(r=Array.prototype.slice.call(arguments,1),i=(u=n.slice()).length,l=0;l<i;l++)u[l].apply(this,r);return!0},r.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var n,i,r,o;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,i=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(o=r;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_GLOBAL="GlobalIrisPlayer",t.DEFAULT_GLOBALS="GlobalIrisPlayers"},,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=(i=n(0))&&i.__esModule?i:{default:i},s={withExpiration:function(e){return r({},e,{expires:Date.now()})},hasExpired:function(e,t){return!!(a.default.hasKey(t,"expires")&&Date.now()>t.expires+18e5)&&(s.remove({key:e}),!0)},get:function(e){var t=e.key,n=JSON.parse(localStorage.getItem(t));return s.hasExpired(t,n)?null:n},set:function(e){var t=e.key,n=e.value;localStorage.setItem(t,JSON.stringify(s.withExpiration(n)))},remove:function(e){var t=e.key;localStorage.removeItem(t)},call:function(e,t){return!(!s.isSupported()||!a.default.hasKey(s,e))&&s[e](t)},isSupported:function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return console.error("localStorage is not supported"),!1}}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=_(n(38)),s=_(n(35)),o=_(n(1)),l=_(n(2)),u=_(n(5)),c=_(n(34)),d=n(6),f=_(n(8)),h=_(n(21)),p=_(n(0));function _(e){return e&&e.__esModule?e:{default:e}}var v={},y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("API")}return r(e,[{key:"successMessage",value:function(e){var t=JSON.parse(e);return i({success:!0},t)}},{key:"failureMessage",value:function(e){var t=JSON.parse(e);return i({success:!1},t)}},{key:"getRequest",value:function(e,t){return a.default.get(e).use((0,s.default)({timeout:15e3})).query(t)}},{key:"triggerGetRequest",value:function(e,t,n,i){var r=t.request_action;(0,d.dispatch)({actionType:r,request:i,experienceId:e}),v[r]=this.getRequest(n,i).end(this.handleResponse(e,t))}}],[{key:"handleResponse",value:function(e,t){var n=t.failure_action,i=t.request_action,r=t.success_action;return function(t,a){if(a)switch(a.body.success){case!0:(0,d.dispatch)({actionType:r,response:a.body,experienceId:e});break;default:(0,d.dispatch)({actionType:n,response:a.body,experienceId:e})}v[i]=null}}},{key:"postRequest",value:function(e,t){return a.default.post(e).use((0,s.default)({timeout:15e3})).query(t)}},{key:"requestUrl",value:function(e,t){var n=o.default.getInfo(e.id).environment;return(""!==n.api_url?n.api_url:o.default.getProtocol(e.id)+c.default.DEFAULT_API_URL)+t}},{key:"triggerPostRequest",value:function(t,n,i,r){var a=n.request_action;(0,d.dispatch)({actionType:a,request:r,experienceId:t}),v[a]=e.postRequest(i,r).end(e.handleResponse(t,n))}},{key:"make_watch_request",value:function(t,n){var i=n||null,r=o.default.getInfo(t),a={request_action:u.default.WATCH_START,success_action:u.default.WATCH_SUCCESS,failure_action:u.default.WATCH_FAIL},s=h.default.call("get",{key:f.default.getSetting("persistent_experience_id")});if(p.default.hasKey(s,"next")){if(f.default.getSetting("persist_experience"))return void e.handleResponse(r.id,a)({},{body:{next:s.next,experience:s.experience,success:!0,sc:!0}});h.default.remove({key:s.experience})}var l=e.requestUrl(r,"/watch"),c=r.environment,d=c;null!==i&&(c.platform_id=n),e.triggerPostRequest(r.id,a,l,d)}},{key:"make_update_request",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.default.getInfo(t);if(a.experience){var s={request_action:u.default.UPDATE_START,success_action:u.default.UPDATE_SUCCESS,failure_action:u.default.UPDATE_FAIL},c=e.requestUrl(a,"/update"),d=a.environment,f={},h={platform_id:d.platform_id,client_token:d.client_token,experience:a.experience,access_token:d.access_token,user_id:d.user_id,platform:d.platform};Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(f["behavior["+e+"]"]=n[e])});var p=o.default.getCurrentAsset(t);if(f["behavior[percentage_watched]"]||(f["behavior[percentage_watched]"]=o.default.percentageWatched(t)),f["behavior[seconds_watched]"]||(f["behavior[seconds_watched]"]=o.default.secondsWatched(t)),f["behavior[duration]"]||(f["behavior[duration]"]=o.default.duration(t)),p.campaign_asset&&(f["behavior[campaign_asset]"]=!0),f["behavior[seconds_watched]"]>f["behavior[duration]"]){f["behavior[seconds_watched]"]=f["behavior[duration]"];var _={player_version:d.player_version,appVersion:window.navigator&&window.navigator.appVersion};h.debug_info=JSON.stringify(_)}var v=i({},h,f,r);1===v["behavior[play]"]&&(delete v["behavior[duration]"],delete v["behavior[percentage_watched]"],delete v["behavior[seconds_watched]"]),e.triggerPostRequest(a.id,s,c,v)}else l.default.debug("No experience_id available. UPDATE call not sent. Behavior: ","API"),Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&l.default.debug(e+":"+n[e])})}},{key:"make_next_request",value:function(t){var n=o.default.getInfo(t);if(n.experience){var i={request_action:u.default.NEXT_START,success_action:u.default.NEXT_SUCCESS,failure_action:u.default.NEXT_FAIL},r=e.requestUrl(n,"/next"),a=n.environment;a.experience=n.experience;var s=a;e.triggerPostRequest(n.id,i,r,s)}else l.default.debug("No experience_id available. NEXT call not sent.","API"),l.default.debug("eid: ",t)}}]),e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={THUMBS_UP:"//ovp.iris.tv/assets/icons/like.png",THUMBS_DOWN:"//ovp.iris.tv/assets/icons/dislike.png",SKIP_FORWARD:"//ovp.iris.tv/assets/icons/next.png",SKIP_BACK:"//ovp.iris.tv/assets/icons/prev.png",THUMBS_UP_ACTIVE:"//ovp.iris.tv/assets/icons/like_active.png",THUMBS_DOWN_ACTIVE:"//ovp.iris.tv/assets/icons/dislike_active.png",AD_END:"AD_END",AD_START:"AD_START",USER_INACTIVE:"USER_INACTIVE",USER_ACTIVITY:"USER_ACTIVITY",HIDE_BUTTONS:"HIDE_BUTTONS",SHOW_BUTTONS:"SHOW_BUTTONS",ASSET_CHANGE:"ASSET_CHANGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(2)),r=l(n(0)),a=l(n(1)),s=l(n(23)),o=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u={addIrisButtons:function(e){var t=this.createIrisButtonEls(e);a.default.getPlayer(e).attachToPlayer(t),this.setStateFromAsset(e),this.addButtonListeners(e)},createIrisButtonEls:function(e){var t=a.default.getInfo(e),n=a.default.getProtocol(e),i=document.createElement("div");r.default.loadCSS("https://ovp.iris.tv/libs/adaptive/styles/IrisButtons.css"),i.className="ib-ctrl top right",i.id=r.default.instanceIdFor(e,"ib-ctrl"),i.setAttribute("data-ib-state","hide");var o=[];t.ui_settings.thumbs_up&&o.push("ib_thumbs_up"),t.ui_settings.thumbs_down&&o.push("ib_thumbs_down"),t.ui_settings.skip_back&&o.push("ib_skip_back"),t.ui_settings.skip_forward&&o.push("ib_skip_forward");for(var l=0;l<=o.length-1;l+=1){var u=document.createElement("div"),c=document.createElement("img"),d=void 0;switch(o[l]){case"ib_thumbs_up":d=n+":"+s.default.THUMBS_UP;break;case"ib_thumbs_down":d=n+":"+s.default.THUMBS_DOWN;break;case"ib_skip_forward":d=n+":"+s.default.SKIP_FORWARD;break;case"ib_skip_back":d=n+":"+s.default.SKIP_BACK}u.className="ib",u.style.cssText="display:inline-block; cursor:pointer;",u.id=r.default.instanceIdFor(e,o[l]),c.src=d,i.appendChild(u)}return[i]},setStateFromAsset:function(e){this.setSkipBackState(e),this.setSkipForwardState(e),this.setThumbsState(e)},setSkipBackState:function(e){0===a.default.getInfo(e).currentIndex?this.disable(e,"skip_back"):this.highlightSkips(e,"skip_back")},disable:function(e,t){var n=document.getElementById(e+"-ib_"+t);null!==n&&(n.style.opacity="0.6",n.style.cursor="default")},highlightSkips:function(e,t){var n=document.getElementById(e+"-ib_"+t);null!==n&&(n.style.opacity="0.9",n.style.cursor="pointer")},setSkipForwardState:function(e){a.default.endOfPlaylist(e)?this.disable(e,"skip_forward"):this.highlightSkips(e,"skip_forward")},setThumbsState:function(e){var t=a.default.getInfo(e),n=t.currentAsset();1===n.thumbs_down?(this.highlightThumbs(e,"thumbs_down"),this.disable(e,"thumbs_up")):1===n.thumbs_up?(this.highlightThumbs(e,"thumbs_up"),this.disable(e,"thumbs_down")):!0!==t.watch_called?this.setState(e,"hide"):this.normalize(e)},highlightThumbs:function(e,t){var n=a.default.getProtocol(e);if("thumbs_up"===t){var i=document.querySelector("#"+e+"-ib_"+t+" > img");null!==i&&i.setAttribute("src",n+":"+s.default.THUMBS_UP_ACTIVE)}else if("thumbs_down"===t){var r=document.querySelector("#"+e+"-ib_"+t+" > img");null!==r&&r.setAttribute("src",n+":"+s.default.THUMBS_DOWN_ACTIVE)}var o=document.getElementById("#"+e+"-ib_"+t);null!==o&&(o.style.opacity="0.9",o.style.cursor="default")},setState:function(e,t){switch(this.getButtonState(e),document.getElementById(e+"-ib-ctrl").setAttribute("data-ib-state",t),t){case"hide":this.hideButtonsNoAnimation(e)}},removeButtonListeners:function(){i.default.debug("Removing listeners","BUTTONS")},showButtons:function(e){document.getElementById(e+"-ib-ctrl").style.display="block"},hideButtons:function(e){document.getElementById(e+"-ib-ctrl").style.display="none"},hideButtonsNoAnimation:function(e){document.getElementById(e+"-ib-ctrl").style.display="none"},getButtonState:function(e){return document.getElementById(e+"-ib-ctrl").getAttribute("data-ib-state")},normalize:function(e){var t=a.default.getProtocol(e),n=document.querySelectorAll("#"+e+"-ib_thumbs_up > img");n.length>1&&(n.setAttribute("src",t+":"+s.default.THUMBS_UP),n.style.opacity="0.9",n.style.cursor="pointer");var i=document.querySelectorAll("#"+e+"-ib_thumbs_down > img");i.length>1&&(i.setAttribute("src",t+":"+s.default.THUMBS_DOWN),i.style.opacity="0.9",i.style.cursor="pointer")},addButtonListeners:function(e){var t=document.getElementById(e+"-ib_thumbs_up"),n=document.getElementById(e+"-ib_thumbs_down"),i=document.getElementById(e+"-ib_skip_forward"),r=document.getElementById(e+"-ib_skip_back");null!==t&&t.addEventListener("click",function(){o.default.thumbs_up(e)}),null!==n&&n.addEventListener("click",function(){o.default.thumbs_down(e)}),null!==i&&i.addEventListener("click",function(){o.default.skip_forward(e,{fromClick:!0})}),null!==r&&r.addEventListener("click",function(){o.default.skip_back(e,{fromClick:!0})})}};t.default=u},function(e,t,n){"use strict";var i=n(7),r=n(4),a=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};(a.prototype=new i).constructor=a,a.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return r.render(this._pathTemplate,{radius:n,"2radius":2*n})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},function(e,t,n){"use strict";var i=n(40),r=n(4),a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},s=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var i;n=r.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n),i=r.isString(t)?document.querySelector(t):t,this.path=i,this._opts=n,this._tweenable=null;var a=this.path.getTotalLength();this.path.style.strokeDasharray=a+" "+a,this.set(0)};s.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},s.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(r.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},s.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},s.prototype.animate=function(e,t,n){t=t||{},r.isFunction(t)&&(n=t,t={});var a=r.extend({},t),s=r.extend({},this._opts);t=r.extend(s,t);var o=this._easing(t.easing),l=this._resolveFromAndTo(e,o,a);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),c=this._progressToOffset(e),d=this;this._tweenable=new i,this._tweenable.tween({from:r.extend({offset:u},l.from),to:r.extend({offset:c},l.to),duration:t.duration,easing:o,step:function(e){d.path.style.strokeDashoffset=e.offset;var n=t.shape||d;t.step(e,n,t.attachment)},finish:function(e){r.isFunction(n)&&n()}})},s.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},s.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},s.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},s.prototype._calculateFrom=function(e){return i.interpolate(this._opts.from,this._opts.to,this.value(),e)},s.prototype._calculateTo=function(e,t){return i.interpolate(this._opts.from,this._opts.to,e,t)},s.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},s.prototype._easing=function(e){return a.hasOwnProperty(e)?a[e]:e},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(2)),a=o(n(0)),s=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=this.validateSettings(n),this.showing=!1,this.eid=t,a.default.loadCSS("https://ovp.iris.tv/libs/adaptive/styles/v2/IrisUpNext.css")}return i(e,[{key:"initialize",value:function(){this.createNextSlate(),this.poll()}},{key:"validateSettings",value:function(e){return["start_time","display_length","min_video_length"].forEach(function(t){if(!e[t])throw"Invalid Settings Error.  Missing or Invalid "+t}),e}},{key:"poll",value:function(){var e=this;this.conditions()?this.slide():this.slideBack(),setTimeout(function(){e.poll()},1e3)}},{key:"reset",value:function(){this.slideBack(),this.populate(),this.pauseTimer&&clearTimeout(this.pauseTimer)}},{key:"slide",value:function(e){this.showing||this.populate()&&(document.getElementById(this.settings.slate_id).classList.add("show"),this.showing=!0,e(this))}},{key:"slideBack",value:function(e){this.showing&&(document.getElementById(this.settings.slate_id).classList.remove("show"),void 0!==e&&e(this),this.showing=!1)}},{key:"addToNextSlate",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(e);return r.setAttribute("id",t),r.setAttribute("class",n),r.innerHTML=i,document.getElementById(this.settings.slate_id).appendChild(r),r}},{key:"pause",value:function(){var e=this;this.showing&&!this.paused&&(e.pauseTimer=setTimeout(function(){e.paused=!0},3e3))}},{key:"play",value:function(){(this.showing||this.paused)&&(this.paused=!1,clearTimeout(this.pauseTimer))}},{key:"timeLeft",value:function(){var e=s.default.getPlayer(this.eid);return e.currentDuration(e.player_id)-e.currentTime(e.player_id)}},{key:"videoDuration",value:function(){var e=s.default.getPlayer(this.eid);return e.currentDuration(e.player_id)}},{key:"attachToPlayer",value:function(e){s.default.getPlayer(this.eid).attachToPlayer([e])}},{key:"createContainer",value:function(){var e=this.getPlayerElement().querySelector("#upNext");return void 0===e&&((e=document.createElement("div")).id="upNext",e.className="reset  up-next-container"),e}},{key:"getPlayerElement",value:function(){var e=s.default.getInfo(this.eid).environment.player_id;return document.getElementById(e)}},{key:"attachToContainer",value:function(e){this.createContainer().appendChild(e)}},{key:"conditions",value:function(){var e=!1;return this.timeLeft()<this.videoDuration()-this.settings.start_time&&this.timeLeft()>0&&!s.default.getInfo(this.eid).currentAsset().startSlateShown&&this.timeLeft()>this.settings.min_video_length&&!this.paused&&void 0!==s.default.getInfo(this.eid).playlist.getInfo()[s.default.getInfo(this.eid).currentIndex+1]&&(e=!0),e}},{key:"displayOnMobile",value:function(){var e=!1;return s.default.getInfo(this.eid).environment.disable_mobile_upnext&&a.default.isRestrictedDevice()?r.default.debug("UpNext is not enabled on mobile. Please check your configurations","NEXT SLATE",this.eid):e=!0,e}},{key:"populate",value:function(){var e=s.default.getPlayer(this.eid).validateVideo(s.default.getInfo(this.eid).playlist[s.default.getInfo(this.eid).currentIndex+1]),t=a.default.getSSLImage(e.image_url);document.getElementById(this.settings.slate_title_id).innerHTML=e.title,document.getElementById(this.settings.slate_image_id).setAttribute("src",t)}},{key:"addEventListener",value:function(e,t,n){document.getElementById(e).addEventListener(t,n)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},a=d(n(2)),s=d(n(0)),o=d(n(1)),l=d(n(3)),u=d(n(44)),c=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));i.eid=e,i.version="IrisStartNextSlate.v2.1.0",i.settings={start_time:n.start_time||5,display_length:n.display_length||7,min_video_length:n.min_video_length||24,up_next_text:n.up_next_text||"UP NEXT:",slate_id:s.default.instanceIdFor(e,"start-next-slate"),slate_title_id:s.default.instanceIdFor(e,"start-next-slate-title"),slate_image_id:s.default.instanceIdFor(e,"start-next-slate-image"),slate_play_button_id:s.default.instanceIdFor(e,"start-play-button"),slate_text_id:s.default.instanceIdFor(e,"slate-text-id")};var r=i,a=new u.default(i.settings.display_length,function(){o.default.getPlaylist(r.eid)[r.i].startSlateShown=!0});return i.timer=a,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"slide",value:function(){var e=this,n=o.default.getCurrentIndex(this.eid);this.i=n,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slide",this).call(this,function(){e.timer.start()})}},{key:"reset",value:function(){this.timer.reset(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"conditions",value:function(){var e=!1;return this.timeLeft()<this.videoDuration()-this.settings.start_time&&this.timeLeft()>0&&this.timeLeft()>this.settings.start_time&&!o.default.getInfo(this.eid).currentAsset().startSlateShown&&!this.paused&&!1===document.hidden&&this.displayOnMobile()&&(e=!0),e}},{key:"populate",value:function(){var e=o.default.getInfo(this.eid),t=e.playlist.getInfo()[e.currentIndex+1],n=o.default.getPlayer(this.eid).validateVideo(t);if(void 0===document.getElementById(this.settings.slate_title_id)&&this.createNextSlate(),!1!==n.valid){if(document.getElementById(this.settings.slate_title_id).innerHTML=n.title,void 0!==n.image_url&&n.image_url){var i=s.default.getSSLImage(n.image_url);document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("'+i+'")'}else a.default.debug("Invalid Thumbnail","START NEXT SLATE",this.eid),document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 85.33 48"><defs><style>.cls-1{isolation:isolate}.cls-2{fill:url(#linear-gradient)}.cls-3,.cls-7{mix-blend-mode:multiply}.cls-3{fill:url(#radial-gradient)}.cls-4{opacity:.7}.cls-5,.cls-8,.cls-9{fill:gray}.cls-6,.cls-8{opacity:.8}.cls-7{opacity:.75}.cls-9{opacity:.9}</style><linearGradient id="linear-gradient" x1="1.49" y1="2989.5" x2="1.49" y2="-3939.89" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a1a1a"/><stop offset=".15" stop-color="#1c1c1c"/><stop offset=".2" stop-color="#232323"/><stop offset=".24" stop-color="#2e2e2e"/><stop offset=".25" stop-color="#333"/><stop offset=".29" stop-color="#252525"/><stop offset=".37" stop-color="#141414"/><stop offset=".47" stop-color="#090909"/><stop offset=".61" stop-color="#020202"/><stop offset="1"/></linearGradient><radialGradient id="radial-gradient" cx="-19.84" cy="-42.31" r="4828.76" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1"/></radialGradient></defs><title>thumbnailArtboard 3</title><g class="cls-1"><g id="Layer_1" data-name="Layer 1"><path d="M-425.33-404h825v767h-825z"/><path class="cls-2" d="M0 0h85.33v48H0z"/><path class="cls-3" d="M0 0h85.33v48H0z"/><g class="cls-4"><path class="cls-5" d="M34.69 10.45h2.19v25.08h-2.19z"/><g class="cls-6"><image class="cls-7" width="38" height="44" transform="translate(27.67 3)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAsCAYAAAAJpsrIAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQklEQVRYR92YaY9UVRCGS4YBBpTFAMqqrJFNVBAIi6LsoAIaBgRkcwHUKIuAMWCIRhBBlIQ17EENEYgiARLgixoJ4U8N70PVde50+vYyIfaVD0+6b/c5dd5T9Z663deamposj5QdUHSS2SPVUi5m1cIKFmhTQF0FFM6pSGwlghIBbUW9aBe0r4JkTn3ESQRnCiwlKhFUH8EbRCfxqOgcdMmga5BcM/axmN8Q8erTAssKS4liZ+yyYwTtJrqLJ0Qv0Vv0EX0z6Jd6z9gnRY+IQ7yGiF9UXClR7IodsvOescAAMUQ8I4aLEWJkilHBsylGxTjmDDIX3DPisulEXFlhdTEYUeyuVwgaJp4T48REMUW8JF5OMVW8Il4V01Lw+SQx1lzkQPMMIo7MUdYWWcvKFoO7xGSCsOvxscAs8Zp4QyxIsVC8Kd4SjWKJWBosie9mi8lidMQlc5SV6rTIWla2MDh+esq8RBPE9BCzKBZbLt5JsUKsFGvEB+JD8YnYEK/rYhwxpkRcykpVSAQJyRTGlx3Ms0UJh5qnn9LMN9/5ilj83WBN6joRhJht4kvxVbBdfBrz54oXzT3HgcA298tZShiGfNx8N/gBP80xzxQ7Xm3Ngni/Mlgl3jMXtlnsELvFfvGj2Gsu9KOIRdbwLXahnFSqqDD8hWrUU8anzb2AwfHUYnNhiGDXlPJtcz81xvd8hjgyQ4b2iIPimDgU11siDtbAu7Qc+tx9YRblLBSW+AtTYs7nzQ3/eiy+zNxfiMDM+GWeeWkQvzDG4KfPxbfisDgpjptnDsFknIPAKacyWIcD0FKYNZ9IhJFWmuhgMcb8+Cemx2ONIQBBM8z9xxjaAiXnVFLmz8Quc2GnA7K309yLzH9B9DdvGy1OZiXCWBhhSQvglfZAlijHVPMehjhaCZnEewjDY0fF2QCRHAQySoZbJYwOPzYWJ0P4CW9QqsXxGcEpCYLI1vwYx8JfiO/FCfGz+Mlc5Ndifcxl460SxpGeaV7GVeYlWCveN88KQvEcYpbFGE4lrYJsHTEXdUGcN/fZNzEG35YWlmF+hHH7mR2Lk4VNsSjG3mperk3B5vh8p3lrIDu/iN/FFXFJnDIXXLUw2kUiDI9xG8KktIiN5n2IwPvMy7QvRCTXB8yzdMY8S1fFzQBx+IyTSi+rWhh9jG6cCCMAvYls0IfoR/jmtDWbGs6ZZwhBf4gb4k/xj/hLXDf32XfiY/MD1WphEyIA3qL//GDNZv5VXDQvEfwmLotr4pb4W9wRd8Vtc6HMe7iF5aqUuTR/vtqF5bXB2v/slpTbm3jtf/ZkmL/2PxSL9LFc/bSmnLn8M5IIy+XfN8yX+CxXf3jbWN4eERTJGumt/UOVIlljF50sD4+hiohrZ3l4cFdEHJNIc3ur9aPOAnFpgW2t1g+HMwQmItPUVUDhnH/jlVy3nLAKxFZEuZgPRNh/wT3tzvfnSTwIFgAAAABJRU5ErkJggg=="/><path class="cls-5" d="M54 10.45H36.87v25.08H55.1V10.45zm-3 23.47H36.32v-8.18h14.76zm0-13.66H36.32v-8.18h14.76zm2.46 15a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.62a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27z"/></g><path class="cls-8" d="M34.3 10.45h-4.07v25.08h4.46V10.45zm0 25a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.67a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13z"/></g><path class="cls-9" d="M36.32 12.08h14.73v8.18H36.32zM36.32 25.67h14.73v8.18H36.32z"/></g></g></svg>")';return!0}return a.default.debug("Invalid Asset, will not show UpNext","START NEXT SLATE",this.eid),!1}},{key:"createNextSlate",value:function(){var e=this,t=document.createElement("div");t.id="upNext",t.className="reset  up-next-container";var n=document.createElement("div");n.id=this.settings.slate_id,n.className="iris-upnext";var i=document.createElement("div");i.className="iris-slate-text-container";var r=document.createElement("p");r.id=this.settings.slate_text_id,r.className="iris-slate-text",r.innerHTML=this.settings.up_next_text;var a=document.createElement("h3");a.setAttribute("id",this.settings.slate_title_id);var s=document.createElement("div");s.className="iris-slate-play-button",s.id=this.settings.slate_play_button_id,s.innerHTML='<img src="https://ovp.iris.tv/assets/icons/play-button.png"></img>',this.attachToPlayer(t),i.appendChild(r),i.appendChild(a),n.appendChild(i),this.attachToContainer(n),this.addToNextSlate("div",this.settings.slate_image_id,"iris-slate-image").appendChild(s);var u=this;this.addEventListener(this.settings.slate_id,"click",function(){var t={asset:o.default.getCurrentAsset(e.eid),type:"start_next_slate"};window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:t})),u.slideBack(),o.default.addBehavior(u.eid,{start_next_slate:1}),l.default.skip_forward(u.eid)})}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=(i=n(5))&&i.__esModule?i:{default:i},o=function(){function e(t){var n=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),this}return r(e,[{key:"emitChange",value:function(e){(0,a.dispatch)({actionType:s.default.ASSET_CHANGE,experienceId:e})}},{key:"setInfo",value:function(e){var t=this;return Object.keys(e).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}),this.emitChange(this.eid),this}},{key:"getInfo",value:function(){return this}},{key:"hasPlayed",value:function(){return this.played}},{key:"hasEnded",value:function(){return this.ended}},{key:"reset",value:function(){return delete this.playing,delete this.PW_02,delete this.PW_25,delete this.PW_50,delete this.PW_75,delete this.SW_03,delete this.SW_05,delete this.SW_10,delete this.SW_15,delete this.SW_30,delete this.thumbs_up,delete this.thumbs_down,delete this.ended,this.emitChange(this.eid),this}}]),e}();t.default=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"2.0.16",LastIssueAddressed:"If images are non SSL, use relative protocol"}},function(e,t,n){"use strict";var i=n(6),r=_(n(5)),a=_(n(23)),s=_(n(2)),o=_(n(0)),l=_(n(3)),u=_(n(1)),c=_(n(9)),d=_(n(22)),f=_(n(24)),h=_(n(8)),p=_(n(21));function _(e){return e&&e.__esModule?e:{default:e}}window.relatedRailGlobal=!1,window.sideRailGlobal=!1,i.Dispatcher.register(function(e){switch(s.default.event("Action Registered: "+e.actionType,e.experienceId),e.actionType){case r.default.NEW_EXPERIENCE:u.default.emitChange(),l.default.pollPercentageWatched(e.experienceId),!0===u.default.getInfo(e.experienceId).environment.side_rail&&(c.default.addToPlaylist=c.default.addToPlaylistSideRailEnabled);break;case r.default.EXPERIENCE_ERROR:l.default.stopPolling(e.experienceId);break;case r.default.AD_START:u.default.getInfo(e.experienceId).player.setAdState(!0);break;case r.default.AD_END:u.default.getInfo(e.experienceId).player.setAdState(!1);break;case r.default.WATCH_SUCCESS:var t=u.default.getInfo(e.experienceId);e.response.sc?(t.environment.set_cookie&&o.default.setCookie("iris_user_id",t.environment.user_id),h.default.getSetting("persist_experience")&&p.default.call("set",{key:e.response.experience,value:{experience:e.response.experience,next:e.response.next}})):(o.default.deleteCookie("iris_user_id"),p.default.call("remove",{key:e.response.experience})),u.default.setInfo(e.experienceId,{experience:e.response.experience}),!0!==e.response.default_recs&&t.playlist.addToFirstPosition(e.response.next[0]),t.playlist.addToPlaylist(e.response.next),u.default.displayStartSlate(e.experienceId)&&(t.irisStartNextSlate.initialize(),t.irisStartNextSlate.populate()),u.default.displayEndSlate(e.experienceId)&&(t.irisEndNextSlate.initialize(),t.irisEndNextSlate.populate()),u.default.registerPlaying(e.experienceId),window.relatedRailGlobal,window.sideRailGlobal&&u.default.getInfo(e.experienceId).sideRail.updateHTMLRail(),f.default.showButtons(e.experienceId),f.default.setState(e.experienceId,"watch_enabled"),o.default.publishReadyEvent(e.response.next,t);break;case r.default.PLAYLIST_CHANGE:window.relatedRailGlobal&&(u.default.getInfo(e.experienceId).relatedRail.updateRecsList(),u.default.getInfo(e.experienceId).relatedRail.updateHTMLRail()),window.sideRailGlobal&&u.default.getInfo(e.experienceId).sideRail.updateHTMLRail();break;case r.default.UPDATE_SUCCESS:1!==e.response.behavior.thumbs_up&&1!==e.response.behavior.thumbs_down||l.default.next(e.experienceId),window.relatedRailGlobal&&u.default.getInfo(e.experienceId).relatedRail.updateHTMLRail(),window.sideRailGlobal&&u.default.getInfo(e.experienceId).sideRail.updateHTMLRail();break;case r.default.ENDED:var n=u.default.getCurrentAsset(e.experienceId),i=u.default.percentageWatched(e.experienceId),_={};n.setInfo({ended:!0}),void 0!==e.data?(_={percentage_watched:e.data.percentageWatched},"next_auto"===e.data.type&&(_.next_auto=1)):_={percentage_watched:i},(i>=.98||parseInt(e.data.percentageWatched,10)>=.98)&&(_.video_complete=1),u.default.addBehavior(e.experienceId,_),s.default.debug("IRIS: NEXT ASSET"),u.default.nextAsset(e.experienceId),window.relatedRailGlobal&&d.default.make_next_request(e.experienceId),window.sideRailGlobal&&d.default.make_next_request(e.experienceId);break;case r.default.SKIP_FORWARD:o.default.getProp(e,"data.fromClick")&&window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:u.default.getCurrentAsset(e.experienceId),type:"skip_forward"}})),u.default.addBehavior(e.experienceId,{next:1,percentage_watched:u.default.percentageWatched(e.experienceId)}),u.default.nextAsset(e.experienceId),window.relatedRailGlobal&&d.default.make_next_request(e.experienceId),window.sideRailGlobal&&d.default.make_next_request(e.experienceId);break;case r.default.EXPERIENCE_UPDATE:u.default.endOfPlaylist(e.experienceId)&&(s.default.debug("IRIS: end of playlist"),l.default.next(e.experienceId)),u.default.updateCurrentAsset(e.experienceId),!0!==u.default.getInfo(e.experienceId).currentAsset().played&&u.default.getInfo(e.experienceId).player.play(u.default.getInfo(e.experienceId).currentAsset(),u.default.getInfo(e.experienceId).environment.player_id),window.sideRailGlobal&&u.default.getPlaylist(e.experienceId).slice(u.default.getCurrentIndex(e.experienceId),u.default.getPlaylist(e.experienceId).length).length<u.default.getInfo(e.experienceId).environment.number&&d.default.make_next_request(e.experienceId);break;case r.default.USER_INACTIVE:f.default.hideButtons(e.experienceId);break;case r.default.USER_ACTIVITY:var v=document.getElementById(e.experienceId+"-ib-ctrl").getAttribute("data-ib-state");"hide"!==v&&"adPlay"!==v&&f.default.showButtons(e.experienceId);break;case a.default.AD_START:f.default.hideButtonsNoAnimation(e.experienceId),f.default.setState(e.experienceId,"adPlay");break;case a.default.AD_END:!0===e.data&&f.default.showButtons(e.experienceId),f.default.setState(e.experienceId,"show");break;case a.default.HIDE_BUTTONS:f.default.hideButtonsNoAnimation(e.experienceId),f.default.setState(e.experienceId,"hide");break;case a.default.SHOW_BUTTONS:f.default.showButtons(e.experienceId),f.default.setState(e.experienceId,"show");break;case a.default.ASSET_CHANGE:f.default.setStateFromAsset(e.experienceId);break;case r.default.FIRST_PLAY:u.default.setInfo(e.experienceId,{first_play:!0}),!0!==u.default.getInfo(e.experienceId).watch_called&&u.default.watch(e.experienceId);break;case r.default.PLAYING:var y=e.experienceId;!0!==u.default.getInfo(y).watch_called?u.default.watch(y):(u.default.registerPlaying(y,e.response),u.default.addBehavior(y,{play:1}));break;case r.default.WATCH_START:u.default.setInfo(e.experienceId,{watch_called:!0});break;case r.default.WATCH_FAIL:break;case"PLAYLIST_CHANGE":u.default.updateCurrentAsset(e.experienceId);break;case r.default.PW_02:u.default.getInfo(e.experienceId).currentAsset().setInfo({PW_02:!0}),u.default.addBehavior(e.experienceId,{percentage_watched:e.data.percentageWatched},{metrics_only:!0});break;case r.default.PW_25:u.default.getInfo(e.experienceId).currentAsset().setInfo({PW_25:!0}),u.default.addBehavior(e.experienceId,{percentage_watched:e.data.percentageWatched},{metrics_only:!0});break;case r.default.PW_50:u.default.getInfo(e.experienceId).currentAsset().setInfo({PW_50:!0}),u.default.addBehavior(e.experienceId,{percentage_watched:e.data.percentageWatched},{metrics_only:!0});break;case r.default.PW_75:u.default.getInfo(e.experienceId).currentAsset().setInfo({PW_75:!0}),u.default.addBehavior(e.experienceId,{percentage_watched:e.data.percentageWatched},{metrics_only:!0});break;case r.default.SW_03:u.default.getInfo(e.experienceId).currentAsset().setInfo({SW_03:!0}),u.default.addBehavior(e.experienceId,{seconds_watched:e.data.secondsWatched},{metrics_only:!0});break;case r.default.SW_05:u.default.getInfo(e.experienceId).currentAsset().setInfo({SW_05:!0}),u.default.addBehavior(e.experienceId,{seconds_watched:e.data.secondsWatched},{metrics_only:!0});break;case r.default.SW_10:u.default.getInfo(e.experienceId).currentAsset().setInfo({SW_10:!0}),u.default.addBehavior(e.experienceId,{seconds_watched:e.data.secondsWatched},{metrics_only:!0});break;case r.default.SW_15:u.default.getInfo(e.experienceId).currentAsset().setInfo({SW_15:!0}),u.default.addBehavior(e.experienceId,{seconds_watched:e.data.secondsWatched},{metrics_only:!0});break;case r.default.SW_30:u.default.getInfo(e.experienceId).currentAsset().setInfo({SW_30:!0}),u.default.addBehavior(e.experienceId,{seconds_watched:e.data.secondsWatched},{metrics_only:!0});break;case r.default.UPDATE_START:break;case r.default.NEXT_SUCCESS:var g=u.default.getInfo(e.experienceId);g.playlist.addToPlaylist(e.response.next),o.default.publishReadyEvent(e.response.next,g);break;case r.default.NEW_ASSET:u.default.play(e.experienceId);break;case r.default.THUMBS_DOWN:1!==u.default.getInfo(e.experienceId).currentAsset().thumbs_down&&1!==u.default.getInfo(e.experienceId).currentAsset().thumbs_up&&(window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:u.default.getCurrentAsset(e.experienceId),type:"thumbs_down"}})),u.default.getInfo(e.experienceId).currentAsset().setInfo({thumbs_down:1}),u.default.addBehavior(e.experienceId,{thumbs_down:1,percentage_watched:u.default.percentageWatched(e.experienceId)}),s.default.debug("SKIP ON THUMBS_DOWN? "+u.default.getInfo(e.experienceId).ui_settings.skip_on_thumbs_down),!0===u.default.getInfo(e.experienceId).ui_settings.skip_on_thumbs_down&&u.default.nextAsset(e.experienceId));break;case r.default.THUMBS_UP:1!==u.default.getInfo(e.experienceId).currentAsset().thumbs_up&&1!==u.default.getInfo(e.experienceId).currentAsset().thumbs_down&&(window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:u.default.getCurrentAsset(e.experienceId),type:"thumbs_up"}})),u.default.getInfo(e.experienceId).currentAsset().setInfo({thumbs_up:1}),u.default.addBehavior(e.experienceId,{thumbs_up:1,percentage_watched:u.default.percentageWatched(e.experienceId)}));break;case r.default.SKIP_BACK:o.default.getProp(e,"data.fromClick")&&window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:{asset:u.default.getCurrentAsset(e.experienceId),type:"skip_back"}})),u.default.addBehavior(e.experienceId,{next:1,percentage_watched:u.default.percentageWatched(e.experienceId)}),u.default.prevAsset(e.experienceId);break;case r.default.PLAY:u.default.setInfo(e.experienceId,{pauseBeacons:!1});break;case r.default.SKIP_ON_MEDIA_ERROR:u.default.nextAsset(e.experienceId),s.default.debug("SKIP ON MEDIA ERROR");break;case r.default.MAKE_WATCH_REQUEST:d.default.make_watch_request(e.experienceId);break;case r.default.MAKE_UPDATE_REQUEST:d.default.make_update_request(e.experienceId,e.data.behavior,e.data.addParams);break;case r.default.MAKE_NEXT_REQUEST:d.default.make_next_request(e.experienceId)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=(i=n(0))&&i.__esModule?i:{default:i},s={addCustomParamsToUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"context",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"context";return t&&e?s.formatCustomParams(e[i],t,n):t},insertAt:function(e,t){var n=e.indexOf("&cust_params=")+"&cust_params=".length;return e.substring(0,n)+t+e.substring(n)},replaceContext:function(e,t,n){var i=new RegExp("("+n+"%3D)[\\w-]+(%26)?");return e.replace(i,function(e,n,i){var r=n+encodeURIComponent(t);return void 0!==i&&(r+=i),r})},formatCustomParams:function(e,t,n){var i=t;if(a.default.isValidArray(e)){var r=n+"="+e.join(",");i=-1!==t.indexOf("&cust_params=")?-1!==t.indexOf(n+"%3D")?s.replaceContext(t,e.join(","),n):s.insertAt(t,encodeURIComponent(r+"&")):t+"&cust_params="+encodeURIComponent(r)}return i},addCustomParamsToAsset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r({},e);return a.default.hasKey(e,"rule_settings.vast")&&a.default.isValidArray(e.context)&&(t.rule_settings.vast=s.addCustomParamsToUrl(e,e.rule_settings.vast)),t},addCategoryParamToUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t,i=r({},e);if(a.default.isValidArray(i.iab)){var s=encodeURIComponent(i.iab.join(","));-1!==t.indexOf("&categories=")?n=n.replace(/([&\?]categories=)([^&]+)?(&.*)?/,"$1"+s+"$3"):n+="&categories="+s}return n}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_API_URL:"://api.iris.tv"}},function(e,t,n){"use strict";var i,r=function(e){var t=e.script,n=e.callbackName,i=e.timeout;t&&t.parentNode&&t.parentNode.removeChild(t),delete window[n],clearTimeout(i)},a=function e(t){var n=function(n){return"undefined"==typeof window?n:(n.end=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var i=this,r=t.callbackParam||"callback",a=t.callbackName||"superagentCallback"+((new Date).valueOf()+parseInt(1e3*Math.random(),10)),s=t.timeout||1e3,o=setTimeout(e.errorWrapper.bind(this),s);this._jsonp={callbackName:a,callback:n,timeout:o},window[a]=e.callbackWrapper.bind(this),this._query.push(encodeURIComponent(r)+"="+encodeURIComponent(a));var l=this._query.join("&"),u=document.createElement("script"),c=this.url.indexOf("?")>-1?"&":"?",d=this.url+c+l;return u.src=d,u.onerror=function(t){e.errorWrapper.call(i,t)},document.head.appendChild(u),this._jsonp.script=u,this}}.call(n,t),n)};return"function"==typeof t.end?n(t):n};a.callbackWrapper=function(e){var t={body:e};r(this._jsonp),this._jsonp.callback.call(this,null,t)},a.errorWrapper=function(e){var t=new Error("404 Not found");e&&e instanceof Event&&"error"===e.type&&(t=new Error("Connection issue")),r(this._jsonp),this._jsonp.callback.call(this,t,null)},void 0!==e&&void 0!==e.exports?e.exports=a:void 0===(i=function(){return{jsonp:a}}.apply(t,[]))||(e.exports=i)},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var i=0,r=e.length,a=3==arguments.length?n:e[i++];i<r;)a=t.call(null,a,e[i],++i,e);return a}},function(e,t,n){"use strict";function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(37),a=n(36),s="undefined"==typeof window?self:window;function o(){}function l(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}_.getXHR=function(){if(!(!s.XMLHttpRequest||s.location&&"file:"==s.location.protocol&&s.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var u="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function c(e){return e===Object(e)}function d(e){if(!c(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){for(var t,n={},i=e.split("&"),r=0,a=i.length;r<a;++r)t=i[r].split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function h(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,n,i,r,a=e.split(/\r?\n/),s={};a.pop();for(var o=0,l=a.length;o<l;++o)t=(n=a[o]).indexOf(":"),i=n.slice(0,t).toLowerCase(),r=u(n.slice(t+1)),s[i]=r;return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var n=this;r.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new h(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(e||i,t)})}function _(e,t){return"function"==typeof t?new p("GET",e).end(t):1==arguments.length?new p("GET",e):new p(e,t)}_.serializeObject=d,_.parseString=f,_.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},_.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},_.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},h.prototype.get=function(e){return this.header[e.toLowerCase()]},h.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=t.split(/ *; */).shift();var n=a(t.split(/ *; */),function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e},{});for(var i in n)this[i]=n[i]},h.prototype.parseBody=function(e){var t=_.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},h.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},h.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},_.Response=h,r(p.prototype),p.prototype.use=function(e){return e(this),this},p.prototype.timeout=function(e){return this._timeout=e,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.set=function(e,t){if(c(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},p.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},p.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},p.prototype.type=function(e){return this.set("Content-Type",_.types[e]||e),this},p.prototype.accept=function(e){return this.set("Accept",_.types[e]||e),this},p.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},p.prototype.field=function(e,t){return this._formData||(this._formData=new s.FormData),this._formData.append(e,t),this},p.prototype.attach=function(e,t,n){return this._formData||(this._formData=new s.FormData),this._formData.append(e,t,n),this},p.prototype.send=function(e){var t=c(e),n=this.getHeader("Content-Type");if(t&&c(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||l(e),this},p.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,n=this.xhr=_.getXHR(),r=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=e||o,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var u=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(e){}if(a&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},a)),r&&(r=_.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!l(s)){var c=_.serialize[this.getHeader("Content-Type")];c?s=c(s):"object"==(void 0===s?"undefined":i(s))&&(s=JSON.stringify(s))}for(var d in this.header)null!=this.header[d]&&n.setRequestHeader(d,this.header[d]);return this.emit("request",this),n.send(s),this},_.Request=p,_.get=function(e,t,n){var i=_("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},_.head=function(e,t,n){var i=_("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},_.del=function(e,t){var n=_("DELETE",e);return t&&n.end(t),n},_.patch=function(e,t,n){var i=_("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},_.post=function(e,t,n){var i=_("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},_.put=function(e,t,n){var i=_("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},e.exports=_},function(e,t,n){"use strict";var i=n(7),r=n(25),a=n(4),s=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};(s.prototype=new i).constructor=s,s.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},s.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?a.setStyle(n,"transform","translate(-50%, 0)"):a.setStyle(n,"transform","translate(-50%, 50%)"))},s.prototype._pathString=r.prototype._pathString,s.prototype._trailString=r.prototype._trailString,e.exports=s},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var a=this||Function("return this")(),s=function(){var s,o,l,u,c,d,f="linear",h=1e3/60,p=Date.now?Date.now:function(){return+new Date},_="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:p;function v(){}function y(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function g(e,t){return y(t,function(n){e[n]=t[n]}),e}function m(e,t){y(t,function(n){void 0===e[n]&&(e[n]=t[n])})}function b(e,t,n,i,r,a,o){var l,u,c,d=e<a?0:(e-a)/r;for(l in t)t.hasOwnProperty(l)&&(c="function"==typeof(u=o[l])?u:s[u],t[l]=w(n[l],i[l],c,d));return t}function w(e,t,n,i){return e+(t-e)*n(i)}function x(e,t){var n=k.prototype.filter,i=e._filterArgs;y(n,function(r){void 0!==n[r][t]&&n[r][t].apply(e,i)})}function I(e,t,n,i,r,a,s,o,f,p,v){l=t+n+i,u=Math.min(v||_(),l),c=u>=l,d=i-(l-u),e.isPlaying()&&(c?(f(s,e._attachment,d),e.stop(!0)):(e._scheduleId=p(e._timeoutHandler,h),x(e,"beforeTween"),u<t+n?b(1,r,a,s,1,1,o):b(u,r,a,s,i,t+n,o),x(e,"afterTween"),f(r,e._attachment,d)))}function E(e,t){var n={},i=void 0===t?"undefined":r(t);return y(e,"string"===i||"function"===i?function(e){n[e]=t}:function(e){n[e]||(n[e]=t[e]||f)}),n}function k(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=o,void 0!==t&&this.setConfig(t)}return o="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,k.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=_(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||v,this._step=e.step||v,this._finish=e.finish||v,this._duration=e.duration||500,this._currentState=g({},e.from||this.get()),this._originalState=this.get(),this._targetState=g({},e.to||this.get());var t=this;this._timeoutHandler=function(){I(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,i=this._targetState;return m(i,n),this._easing=E(n,e.easing||f),this._filterArgs=[n,this._originalState,i,this._easing],x(this,"tweenCreated"),this},k.prototype.get=function(){return g({},this._currentState)},k.prototype.set=function(e){this._currentState=e},k.prototype.pause=function(){return this._pausedAtTime=_(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=_()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(e){e=Math.max(e,0);var t=_();return this._timestamp+e===0?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,I(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},k.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=v,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),e&&(x(this,"beforeTween"),b(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),x(this,"afterTween"),x(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},k.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},k.prototype.filter={},k.prototype.formula={linear:function(e){return e}},s=k.prototype.formula,g(k,{now:_,each:y,tweenProps:b,tweenProp:w,applyFilter:x,shallowCopy:g,defaults:m,composeEasingObject:E}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=I),"object"===r(t)?e.exports=k:void 0===(i=function(){return k}.call(t,n,t,e))||(e.exports=i),k}();s.shallowCopy(s.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){s.setBezierFunction=function(e,t,n,i,r){var a=function(e,t,n,i){return function(r){return function(e,t,n,i,r,a){var s,o,l,u=0,c=0,d=0;function f(e){return((u*e+c)*e+d)*e}function h(e){return e>=0?e:0-e}return u=1-(d=3*t)-(c=3*(i-t)-d),s=1-(l=3*n)-(o=3*(r-n)-l),function(e,t){return n=function(e,t){var n,i,r,a,s,o,l;for(r=e,o=0;o<8;o++){if(h(a=f(r)-e)<t)return r;if(h(s=(3*u*(l=r)+2*c)*l+d)<1e-6)break;r-=a/s}if(i=1,(r=e)<(n=0))return n;if(r>i)return i;for(;n<i;){if(h((a=f(r))-e)<t)return r;e>a?n=r:i=r,r=.5*(i-n)+n}return r}(e,t),((s*n+o)*n+l)*n;var n}(e,1/(200*a))}(r,e,t,n,i,1)}}(t,n,i,r);return a.displayName=e,a.x1=t,a.y1=n,a.x2=i,a.y2=r,s.prototype.formula[e]=a},s.unsetBezierFunction=function(e){delete s.prototype.formula[e]}}(),function(){var e=new s;e._filterArgs=[],s.interpolate=function(t,n,i,r,a){var o=s.shallowCopy({},t),l=a||0,u=s.composeEasingObject(t,r||"linear");e.set({});var c=e._filterArgs;c.length=0,c[0]=o,c[1]=t,c[2]=n,c[3]=u,s.applyFilter(e,"tweenCreated"),s.applyFilter(e,"beforeTween");var d=function(e,t,n,i,r,a){return s.tweenProps(i,t,e,n,1,a,r)}(t,o,n,i,u,l);return s.applyFilter(e,"afterTween"),d}}(),function(e){var t=/(\d|\-|\.)/,n=/([^\-0-9\.]+)/g,i=/[0-9.\-]+/g,a=new RegExp("rgb\\("+i.source+/,\s*/.source+i.source+/,\s*/.source+i.source+"\\)","g"),s=/^.*\(/,o=/#([0-9]|[a-f]){3,6}/gi,l="VAL";function u(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(o)&&(t[e]=h(o,n,c))})}function c(e){var t=function(e){return 3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),d[0]=f(e.substr(0,2)),d[1]=f(e.substr(2,2)),d[2]=f(e.substr(4,2)),d}(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}var d=[];function f(e){return parseInt(e,16)}function h(e,t,n){var i=t.match(e),r=t.replace(e,l);if(i)for(var a,s=i.length,o=0;o<s;o++)a=i.shift(),r=r.replace(l,n(a));return r}function p(e){for(var t=e.match(i),n=t.length,r=e.match(s)[0],a=0;a<n;a++)r+=parseInt(t[a],10)+",";return r.slice(0,-1)+")"}function _(i){var r={};return e.each(i,function(e){var a,s,o=i[e];if("string"==typeof o){var u=m(o);r[e]={formatString:(a=o,s=a.match(n),s?(1===s.length||a.charAt(0).match(t))&&s.unshift(""):s=["",""],s.join(l)),chunkNames:function(e,t){var n,i=[],r=u.length;for(n=0;n<r;n++)i.push("_"+t+"_"+n);return i}(0,e)}}}),r}function v(t,n){e.each(n,function(e){for(var i=m(t[e]),r=i.length,a=0;a<r;a++)t[n[e].chunkNames[a]]=+i[a];delete t[e]})}function y(t,n){e.each(n,function(e){var i=t[e],r=function(e,t){g.length=0;for(var n=t.length,i=0;i<n;i++)g.push(e[t[i]]);return g}(function(e,t){for(var n,i={},r=t.length,a=0;a<r;a++)i[n=t[a]]=e[n],delete e[n];return i}(t,n[e].chunkNames),n[e].chunkNames);i=function(e,t){for(var n=e,i=t.length,r=0;r<i;r++)n=n.replace(l,+t[r].toFixed(4));return n}(n[e].formatString,r),t[e]=h(a,i,p)})}var g=[];function m(e){return e.match(i)}e.prototype.filter.token={tweenCreated:function(e,t,n,i){u(e),u(t),u(n),this._tokenData=_(e)},beforeTween:function(t,n,i,r){!function(t,n){e.each(n,function(e){var i,r=n[e].chunkNames,a=r.length,s=t[e];if("string"==typeof s){var o=s.split(" "),l=o[o.length-1];for(i=0;i<a;i++)t[r[i]]=o[i]||l}else for(i=0;i<a;i++)t[r[i]]=s;delete t[e]})}(r,this._tokenData),v(t,this._tokenData),v(n,this._tokenData),v(i,this._tokenData)},afterTween:function(t,n,i,a){y(t,this._tokenData),y(n,this._tokenData),y(i,this._tokenData),function(t,n){e.each(n,function(e){var i=n[e].chunkNames,a=i.length,s=t[i[0]];if("string"===(void 0===s?"undefined":r(s))){for(var o="",l=0;l<a;l++)o+=" "+t[i[l]],delete t[i[l]];t[e]=o.substr(1)}else t[e]=s})}(a,this._tokenData)}}}(s)}).call(null)},function(e,t,n){"use strict";var i=n(7),r=n(4),a=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};(a.prototype=new i).constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},a.prototype._pathString=function(e){return r.render(this._pathTemplate,{center:e.strokeWidth/2})},a.prototype._trailString=function(e){return this._pathString(e)},e.exports=a},function(e,t,n){"use strict";e.exports={Line:n(41),Circle:n(25),SemiCircle:n(39),Path:n(26),Shape:n(7),utils:n(4)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},a=d(n(42)),s=d(n(2)),o=d(n(0)),l=d(n(1)),u=d(n(3)),c=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.eid=e,i.version="IrisEndNextSlate.v2.1.0",i.settings={start_time:n.start_time||5,display_length:n.display_length||7,min_video_length:n.min_video_length||24,up_next_text:n.up_next_text||"UP NEXT:",slate_id:o.default.instanceIdFor(e,"end-next-slate"),slate_title_id:o.default.instanceIdFor(e,"end-next-slate-title"),slate_image_id:o.default.instanceIdFor(e,"end-next-slate-image"),slate_timer_container_id:o.default.instanceIdFor(e,"end-timer-container"),slate_timer_id:o.default.instanceIdFor(e,"end-timer"),slate_text_id:o.default.instanceIdFor(e,"slate-text-id")},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"slide",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slide",this).call(this,function(){e.settings.display_length=document.getElementById(e.settings.slate_timer_id).innerHTML,e.countdown()})}},{key:"slideBack",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"slideBack",this).call(this,function(){void 0!==e.bar&&e.bar.animate(0)})}},{key:"countdown",value:function(){var e=this;this.bar.animate(1,{duration:800*this.timeLeft()}),this.conditions()&&setTimeout(function(){e.countdown()},1e3)}},{key:"populate",value:function(){var e=l.default.getPlayer(this.eid),t=l.default.getInfo(this.eid),n=t.playlist.getInfo()[t.currentIndex+1],i=e.validateVideo(n);if(void 0===this.bar&&(this.bar=new a.default.Circle("#"+this.settings.slate_timer_container_id,{color:"#FFF",strokeWidth:10,trailWidth:1,svgStyle:{}})),void 0===document.getElementById(this.settings.slate_title_id)&&this.createNextSlate(),!1!==i.valid){if(document.getElementById(this.settings.slate_title_id).innerHTML=i.title,void 0!==i.image_url&&i.image_url){var r=o.default.getSSLImage(i.image_url);document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("'+r+'")'}else s.default.debug("Invalid Thumbnail","END NEXT SLATE",this.eid),document.getElementById(this.settings.slate_image_id).style.backgroundImage='url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 85.33 48"><defs><style>.cls-1{isolation:isolate}.cls-2{fill:url(#linear-gradient)}.cls-3,.cls-7{mix-blend-mode:multiply}.cls-3{fill:url(#radial-gradient)}.cls-4{opacity:.7}.cls-5,.cls-8,.cls-9{fill:gray}.cls-6,.cls-8{opacity:.8}.cls-7{opacity:.75}.cls-9{opacity:.9}</style><linearGradient id="linear-gradient" x1="1.49" y1="2989.5" x2="1.49" y2="-3939.89" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a1a1a"/><stop offset=".15" stop-color="#1c1c1c"/><stop offset=".2" stop-color="#232323"/><stop offset=".24" stop-color="#2e2e2e"/><stop offset=".25" stop-color="#333"/><stop offset=".29" stop-color="#252525"/><stop offset=".37" stop-color="#141414"/><stop offset=".47" stop-color="#090909"/><stop offset=".61" stop-color="#020202"/><stop offset="1"/></linearGradient><radialGradient id="radial-gradient" cx="-19.84" cy="-42.31" r="4828.76" gradientTransform="matrix(.01 0 0 .01 42.64 24.67)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1"/></radialGradient></defs><title>thumbnailArtboard 3</title><g class="cls-1"><g id="Layer_1" data-name="Layer 1"><path d="M-425.33-404h825v767h-825z"/><path class="cls-2" d="M0 0h85.33v48H0z"/><path class="cls-3" d="M0 0h85.33v48H0z"/><g class="cls-4"><path class="cls-5" d="M34.69 10.45h2.19v25.08h-2.19z"/><g class="cls-6"><image class="cls-7" width="38" height="44" transform="translate(27.67 3)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAsCAYAAAAJpsrIAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQklEQVRYR92YaY9UVRCGS4YBBpTFAMqqrJFNVBAIi6LsoAIaBgRkcwHUKIuAMWCIRhBBlIQ17EENEYgiARLgixoJ4U8N70PVde50+vYyIfaVD0+6b/c5dd5T9Z663deamposj5QdUHSS2SPVUi5m1cIKFmhTQF0FFM6pSGwlghIBbUW9aBe0r4JkTn3ESQRnCiwlKhFUH8EbRCfxqOgcdMmga5BcM/axmN8Q8erTAssKS4liZ+yyYwTtJrqLJ0Qv0Vv0EX0z6Jd6z9gnRY+IQ7yGiF9UXClR7IodsvOescAAMUQ8I4aLEWJkilHBsylGxTjmDDIX3DPisulEXFlhdTEYUeyuVwgaJp4T48REMUW8JF5OMVW8Il4V01Lw+SQx1lzkQPMMIo7MUdYWWcvKFoO7xGSCsOvxscAs8Zp4QyxIsVC8Kd4SjWKJWBosie9mi8lidMQlc5SV6rTIWla2MDh+esq8RBPE9BCzKBZbLt5JsUKsFGvEB+JD8YnYEK/rYhwxpkRcykpVSAQJyRTGlx3Ms0UJh5qnn9LMN9/5ilj83WBN6joRhJht4kvxVbBdfBrz54oXzT3HgcA298tZShiGfNx8N/gBP80xzxQ7Xm3Ngni/Mlgl3jMXtlnsELvFfvGj2Gsu9KOIRdbwLXahnFSqqDD8hWrUU8anzb2AwfHUYnNhiGDXlPJtcz81xvd8hjgyQ4b2iIPimDgU11siDtbAu7Qc+tx9YRblLBSW+AtTYs7nzQ3/eiy+zNxfiMDM+GWeeWkQvzDG4KfPxbfisDgpjptnDsFknIPAKacyWIcD0FKYNZ9IhJFWmuhgMcb8+Cemx2ONIQBBM8z9xxjaAiXnVFLmz8Quc2GnA7K309yLzH9B9DdvGy1OZiXCWBhhSQvglfZAlijHVPMehjhaCZnEewjDY0fF2QCRHAQySoZbJYwOPzYWJ0P4CW9QqsXxGcEpCYLI1vwYx8JfiO/FCfGz+Mlc5Ndifcxl460SxpGeaV7GVeYlWCveN88KQvEcYpbFGE4lrYJsHTEXdUGcN/fZNzEG35YWlmF+hHH7mR2Lk4VNsSjG3mperk3B5vh8p3lrIDu/iN/FFXFJnDIXXLUw2kUiDI9xG8KktIiN5n2IwPvMy7QvRCTXB8yzdMY8S1fFzQBx+IyTSi+rWhh9jG6cCCMAvYls0IfoR/jmtDWbGs6ZZwhBf4gb4k/xj/hLXDf32XfiY/MD1WphEyIA3qL//GDNZv5VXDQvEfwmLotr4pb4W9wRd8Vtc6HMe7iF5aqUuTR/vtqF5bXB2v/slpTbm3jtf/ZkmL/2PxSL9LFc/bSmnLn8M5IIy+XfN8yX+CxXf3jbWN4eERTJGumt/UOVIlljF50sD4+hiohrZ3l4cFdEHJNIc3ur9aPOAnFpgW2t1g+HMwQmItPUVUDhnH/jlVy3nLAKxFZEuZgPRNh/wT3tzvfnSTwIFgAAAABJRU5ErkJggg=="/><path class="cls-5" d="M54 10.45H36.87v25.08H55.1V10.45zm-3 23.47H36.32v-8.18h14.76zm0-13.66H36.32v-8.18h14.76zm2.46 15a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.62a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27zm0-3.42a.27.27 0 0 1-.27.27h-1.41a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .27.27z"/></g><path class="cls-8" d="M34.3 10.45h-4.07v25.08h4.46V10.45zm0 25a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.67a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27V21a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13zm0-3.42a.27.27 0 0 1-.23.13h-1.49a.27.27 0 0 1-.27-.27v-.66a.27.27 0 0 1 .27-.27h1.49a.27.27 0 0 1 .23.13z"/></g><path class="cls-9" d="M36.32 12.08h14.73v8.18H36.32zM36.32 25.67h14.73v8.18H36.32z"/></g></g></svg>")';return!0}return!1}},{key:"createNextSlate",value:function(){var e=this,t=document.createElement("div");t.id="upNext",t.className="reset up-next-container";var n=document.createElement("div");n.id=this.settings.slate_id,n.className="iris-upnext";var i=document.createElement("div");i.className="iris-slate-text-container";var r=document.createElement("p");r.id=this.settings.slate_text_id,r.className="iris-slate-text",r.innerHTML=this.settings.up_next_text;var a=document.createElement("h3");a.setAttribute("id",this.settings.slate_title_id),i.appendChild(a);var s=document.createElement("div");s.id=this.settings.slate_timer_container_id,s.className="iris-slate-timer-container";var o=document.createElement("p");o.id=this.settings.slate_timer_id,o.className="iris-slate-timer",this.attachToPlayer(t),i.appendChild(r),n.appendChild(i),this.attachToContainer(n),s.appendChild(o),this.addToNextSlate("div",this.settings.slate_image_id,"iris-slate-image").appendChild(s);var c=this;this.addEventListener(this.settings.slate_id,"click",function(){var t={asset:l.default.getCurrentAsset(e.eid),type:"end_next_slate"};window.dispatchEvent(new CustomEvent("Iris.interaction",{detail:t})),c.slideBack(),l.default.addBehavior(c.eid,{end_next_slate:1}),u.default.skip_forward(c.eid)})}},{key:"conditions",value:function(){var e=!1;return this.timeLeft()<=this.settings.start_time&&0!==this.timeLeft()&&!this.paused&&this.displayOnMobile()&&(e=!0),e}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.delay=1e3*t,this.callback=n,this.startTime=0,this.id="",this.display_length=1e3*t,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.pause=this.pause.bind(this),this.reset=this.reset.bind(this)}return i(e,[{key:"start",value:function(){clearTimeout(this.id),this.startTime=new Date,this.id=setTimeout(this.callback,this.delay)}},{key:"stop",value:function(){clearTimeout(this.id)}},{key:"pause",value:function(){clearTimeout(this.id),this.delay-=new Date-this.startTime}},{key:"reset",value:function(){clearTimeout(this.id),this.delay=this.display_length}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(1)),a=o(n(3)),s=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=t,this.recs=[],Object.keys(i).forEach(function(e){Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}),window.relatedRailGlobal=!0,this.addEventListeners(t)}return i(e,[{key:"updateRecsList",value:function(){var e=r.default.getPlaylist(this.eid);return this.recs=e,this}},{key:"getInfo",value:function(){return this}},{key:"updateHTMLRail",value:function(){for(var e=document.querySelectorAll("[data-iris-related]"),t=void 0,n=0;n<=e.length-1;n+=1){var i=r.default.getCurrentIndex(this.eid)+parseInt(e[n].getAttribute("data-iris-related"),10);if(void 0===(t=this.recs[i])&&this.resetDiv(e[n]),t&&t.valid){var a=s.default.getSSLImage(t.image_url);e[n].getElementsByClassName("title").length>0&&(e[n].getElementsByClassName("title")[0].innerHTML=t.title),e[n].getElementsByClassName("thumbnail").length>0&&(e[n].getElementsByClassName("thumbnail")[0].innerHTML="<img src='"+a+"' />")}}}},{key:"resetDiv",value:function(e){var t=e;t.getElementsByClassName("title")[0].innerHTML="",t.getElementsByClassName("thumbnail")[0].innerHTML=""}},{key:"addEventListeners",value:function(){for(var e=document.querySelectorAll("[data-iris-related]"),t=0;t<=e.length-1;t+=1)this.addEvent(e[t],this)}},{key:"addEvent",value:function(e,t){e.addEventListener("click",function(){var e=parseInt(this.getAttribute("data-iris-related"),10),n=t.recs[r.default.getCurrentIndex(t.eid)+e];r.default.getInfo(t.eid).playlist.addToNextPosition(t.eid,n),a.default.skip_forward(t.eid)})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.sideRailGlobal=!0,this.eid=t,Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])})}return i(e,[{key:"getInfo",value:function(){return this}},{key:"updateHTMLRail",value:function(){for(var e=document.querySelectorAll("[data-iris-rail]"),t=void 0,n=0;n<=e.length-1;n+=1){var i=r.default.getCurrentIndex(this.eid)+parseInt(e[n].getAttribute("data-iris-rail"),10);if(void 0===(t=r.default.getPlaylist(this.eid)[i]))return;if(t.valid){var s=a.default.getSSLImage(t.image_url);e[n].getElementsByClassName("title").length>0&&(e[n].getElementsByClassName("title")[0].innerHTML=t.title),e[n].getElementsByClassName("thumbnail").length>0&&(e[n].getElementsByClassName("thumbnail")[0].innerHTML="<img src='"+s+"'/>")}this.setAssetAsShown(t)}}},{key:"addEventListeners",value:function(){for(var e=this,t=document.querySelectorAll("[data-iris-rail]"),n=this,i=0;i<=t.length-1;i+=1)t[i].addEventListener("click",function(){r.default.skipToIndex(n.eid,r.default.getCurrentIndex(n.eid)+parseInt(e.getAttribute("data-iris-rail"),10))})}},{key:"setAssetAsShown",value:function(e){e.setInfo({sideRailShown:!0})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n(2))&&i.__esModule?i:{default:i},s=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=t,this.ads={state:!1},Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}),void 0===this.player_element&&(this.player_element=document.getElementById(this.player_id),this.video_player=this.player_element),this.attachToPlayer=this.attachToPlayer.bind(this),this.currentTime=this.currentTime.bind(this),this.currentDuration=this.currentDuration.bind(this),this.validateVideo=this.validateVideo.bind(this)}return r(e,[{key:"currentTime",value:function(){a.default.warn("Please register currentTime function","IRIS.TV",this.eid)}},{key:"currentDuration",value:function(){a.default.warn("Please register currentDuration function","IRIS.TV",this.eid)}},{key:"setInfo",value:function(e){var t=this;Object.keys(e).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})}},{key:"getInfo",value:function(){return this}},{key:"hasPlayed",value:function(){return this.played}},{key:"play",value:function(e){var t=document.getElementsByTagName("video")[0];t.getElementsByTagName("source")[0].setAttribute("src",e.content_url),t.load(),t.play(),a.default.debug("IRIS plugin using HTML5 default play function","PLAYER",this.eid)}},{key:"attachToPlayer",value:function(e){for(var t=0;t<=e.length-1;t+=1)this.player_element.appendChild(e[t]);return this.player_element}},{key:"validateVideo",value:function(e){var t=e;return void 0!==t.content_url?t.valid=!0:t.valid=!1,t}},{key:"getAdState",value:function(){return this.ads.state}},{key:"setAdState",value:function(e){this.ads.state=e}}]),e}();t.default=s},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,a,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,a,s,o],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var i=n(49),r=n(10).EventEmitter;function a(e){if(!(this instanceof a))return new a(e);r.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.pending=0,this.session=0,this.running=!1,this.jobs=[]}e.exports=a,i(a,r);var s=["push","unshift","splice","pop","shift","slice","reverse","indexOf","lastIndexOf"];for(var o in s)!function(e){a.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}}(s[o]);function l(e){this.session++,this.running=!1,this.emit("end",e)}Object.defineProperty(a.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),a.prototype.start=function(e){if(e&&function(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",function i(r){t.removeListener("error",n),t.removeListener("end",i),e(r)})}.call(this,e),this.pending!==this.concurrency)if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),i=!0,r=this.session,a=null,s=!1;this.timeout&&(a=setTimeout(function(){s=!0,t.listeners("timeout").length>0?t.emit("timeout",o,n):o()},this.timeout)),this.pending++,this.running=!0,n(o),this.jobs.length>0&&this.start()}else 0===this.pending&&l.call(this);function o(e,o){i&&t.session===r&&(i=!1,t.pending--,null!==a&&clearTimeout(a),e?t.emit("error",e,n):!1===s&&t.emit("success",o,n),t.session===r&&(0===t.pending&&0===t.jobs.length?l.call(t):t.running&&t.start()))}},a.prototype.stop=function(){this.running=!1},a.prototype.end=function(e){this.jobs.length=0,this.pending=0,l.call(this,e)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,a,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,a,s,o],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(51),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e,t,n){"use strict";e.exports.Dispatcher=n(52)},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(53).Dispatcher,a=n(50),s=n(48),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._actionQueue=new a,e._actionQueue.concurrency=1,e._actionQueueActive=!1,e._actionQueue.on("end",function(){this._actionQueueActive=!1}.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r),i(t,[{key:"dispatch",value:function(e,t){s(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var n in this._callbacks)this._isPending[n]||this._invokeCallback(n)}finally{this._stopDispatching(),t()}}},{key:"onQueueEnd",value:function(e){this._actionQueue.on("end",e.bind(this))}},{key:"queueDispatch",value:function(e){this._actionQueue.push(function(t){this.dispatch(e,t)}.bind(this)),this._actionQueueActive||(this._actionQueueActive=!0,this._actionQueue.start())}}]),t}();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=v(n(2)),a=v(n(0)),s=v(n(1)),o=v(n(3)),l=v(n(28)),u=v(n(9)),c=v(n(5)),d=n(6),f=v(n(22)),h=v(n(33)),p=(v(n(32)),v(n(8))),_=n(15);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eid=a.default.generateRandomString(4),this.irisOptions=this.validateSettings(t),p.default.setOptions(this.irisOptions),this.irisOptions.debug&&r.default.setLevel("debug"),this.experience=new s.default(this.eid,this.irisOptions),this.events=new o.default,this.registerFunction=this.registerFunction.bind(this),this.registerEvent=this.registerEvent.bind(this),this.addCallbackBase=this.addCallbackBase.bind(this),this.irisOptions.settings.carousel_recs&&(r.default.debug("Carousel Recs: true","ENTRY",this.eid),this.forceWatchRequest()),this.addCallback={addToPlaylist:function(e){n.addCallbackBase("addToPlaylist",e)},next:function(e){n.addCallbackBase("next",e)},watch:function(e){n.addCallbackBase("watch",e)}},this.irisOptions.global&&(window[this.irisOptions.global]=this),window[_.DEFAULT_GLOBALS]=window[_.DEFAULT_GLOBALS]||{},window[_.DEFAULT_GLOBALS][a.default.getProp(this.irisOptions,"settings.platform_id")]=this,r.default.debug("Iris Entry settings","ENTRY",this.eid,this.irisOptions)}return i(e,[{key:"validateSettings",value:function(e){var t=(void 0!==e.player_elements?e:{}).player_elements,n=void 0===t?{}:t,i=e.debug,r=e.global||_.DEFAULT_GLOBAL,a=(void 0!==n.video_player?n:{}).video_player,s=void 0===a?{}:a,o=(void 0!==e.iris_buttons?e:{}).iris_buttons,l=void 0===o?{}:o,u=e.settings.player_id,c=void 0===u?document.querySelectorAll("[iris-enabled=true]").getAttribute("id"):u,d=e.settings,f=d.number,h=void 0===f?5:f,p=d.ssl,v=void 0!==p&&p,y=d.base_url,g=void 0===y?"defaultbaseurl":y,m=d.client_token,b=void 0===m?document.getElementById(c).getAttribute("client-token"):m,w=d.platform,x=void 0===w?document.getElementById(c).getAttribute("platform"):w,I=d.access_token,E=void 0===I?"1d9f05c8b00daddfbffcf5afa8a0691bf6370c0cd9dfc8bc6fb38e13c4474dab":I,k=d.api_url,T=void 0===k?"":k,A=d.platform_id,S=void 0===A?document.getElementById(c).getAttribute("platform-id"):A,P=d.player_version,C=void 0===P?x:P,O=d.set_cookie,R=void 0===O||O,N=d.user_id,D=void 0===N?"":N,W=d.iframe,M=void 0!==W&&W,B=d.carousel_recs,L=void 0!==B&&B,j=d.persist_experience,U=void 0!==j&&j,F=d.persistent_experience_id,H=void 0===F?null:F,z=d.disable_mobile_upnext,G=void 0===z||z,q=d.up_next_min_vid_length,V=void 0===q?23:q,X=d.start_up_next,Y=void 0!==X&&X,Q=d.start_up_next_text,K=void 0===Q?"UP NEXT:":Q,J=d.start_up_next_time,Z=void 0===J?5:J,$=d.start_up_next_length,ee=void 0===$?7:$,te=d.end_up_next,ne=void 0!==te&&te,ie=d.end_up_next_text,re=void 0===ie?"UP NEXT:":ie,ae=d.end_up_next_time,se=void 0===ae?5:ae,oe=d.end_up_next_length,le=void 0===oe?7:oe,ue=d.side_rail,ce=void 0!==ue&&ue,de=d.related_rail,fe=void 0!==de&&de,he=d.campaign_tracking,pe=void 0!==he&&he,_e=d.enable_category_ads,ve=void 0!==_e&&_e,ye=d.enable_context_ads,ge=void 0!==ye&&ye,me=d.enable_category_cust_params_ads,be=void 0!==me&&me,we=l.thumbs_up,xe=void 0===we||we,Ie=l.thumbs_down,Ee=void 0===Ie||Ie,ke=l.skip_forward,Te=void 0===ke||ke,Ae=l.skip_back,Se=void 0===Ae||Ae,Pe=l.skip_on_thumbs_down,Ce=void 0===Pe||Pe;if(M&&e.settings.iframeWrapperId){var Oe=e.settings.iframeWrapperId||"",Re=document.getElementById(Oe);c=void 0!==Oe?Oe:c,Re.style.position="relative",Re.style.display="inline-block"}var Ne={settings:{number:h,api_url:T,base_url:g,client_token:b,platform:x,access_token:E,ssl:v,platform_id:S,player_version:C,persist_experience:U,persistent_experience_id:H,disable_mobile_upnext:G,up_next_min_vid_length:V,start_up_next:Y,start_up_next_text:K,start_up_next_time:Z,start_up_next_length:ee,end_up_next:ne,end_up_next_text:re,end_up_next_time:se,end_up_next_length:le,player_id:c,campaign_tracking:pe,side_rail:ce,related_rail:fe,set_cookie:R,carousel_recs:L,user_id:D,iframe:M,enable_category_ads:ve,enable_context_ads:ge,enable_category_cust_params_ads:be},player_elements:{play_button:n.play_button,player_element:n.player_element,player_id:c,video_player:s},iris_buttons:{thumbs_up:xe,thumbs_down:Ee,skip_forward:Te,skip_back:Se,skip_on_thumbs_down:Ce},debug:i,global:r};return L&&(Ne.settings.recs_only=!0),["number","base_url","client_token","platform","access_token","player_id"].forEach(function(e){if(!Ne.settings[e])throw"Invalid Settings Error.  Missing or Invalid "+e}),Ne}},{key:"registerFunction",value:function(e,t){var n=this;switch(r.default.debug("Registering new function: "+e,"ENTRY",this.eid),e){case"currentDuration":this.experience.player.currentDuration=t;break;case"currentTime":this.experience.player.currentTime=t;break;case"play":this.experience.player.play=function(e,i){t(e,i||""),o.default.play(n.eid),a.default.hasKey(e,"platform_id")&&n.verifyCorrectAssetPlaying({asset:e})};break;case"loadVideo":this.experience.player.loadVideo=t;break;case"validateVideo":this.experience.player.validateVideo=t;break;case"attachToPlayer":this.experience.player.attachToPlayer=t;break;case"IrisStartNextSlate.populate":l.default.populate=function(){var e=n.experience.getInfo(n.eid),i=e.playlist.getInfo()[e.currentIndex+1];t(i)}}}},{key:"registerEvent",value:function(e){switch(r.default.debug("Registering new event: "+e,"ENTRY",this.eid),e){case"IRIS_PLAYING":o.default.playing=function(){};break;case"ENDED":o.default.ended=function(){}}}},{key:"emit",value:function(e,t){(0,d.dispatch)({actionType:e,data:t,experienceId:this.eid})}},{key:"forceNextRequest",value:function(){f.default.make_next_request(this.eid)}},{key:"forceWatchRequest",value:function(){f.default.make_watch_request(this.eid)}},{key:"forceWatchRequestByAsset",value:function(e,t){f.default.make_watch_request(e,t)}},{key:"forceNextRequestByEid",value:function(e){f.default.make_next_request(e)}},{key:"getPlaylist",value:function(){return s.default.getPlaylist(this.eid)}},{key:"getPlaylistByEid",value:function(e){return s.default.getPlaylist(e)}},{key:"setPlaylist",value:function(e){return s.default.getInfo(this.eid).playlist.addToPlaylist(e),e}},{key:"removeFromPlaylist",value:function(e){s.default.getInfo(this.eid).playlist.removeFromPlaylist(e)}},{key:"getCurrentIndex",value:function(){return s.default.getCurrentIndex(this.eid)}},{key:"getCurrentIndexByEid",value:function(e){return s.default.getCurrentIndex(e)}},{key:"skipToIndex",value:function(e){return s.default.skipToIndex(this.eid,e)}},{key:"skipToIndexByEid",value:function(e,t){return s.default.skipToIndex(e,t)}},{key:"skipToAsset",value:function(e){return s.default.skipToAsset(this.eid,e)}},{key:"skipToAssetByEid",value:function(e,t){return s.default.skipToAsset(e,t)}},{key:"setAdState",value:function(e){return s.default.getInfo(this.eid).player.setAdState(e),s.default.getInfo(this.eid).player.getAdState()}},{key:"verifyCorrectAssetPlaying",value:function(e){var t=this.getPlaylist()[this.getCurrentIndex()];a.default.getProp(e,"asset.platform_id")!==t.platform_id&&r.default.error("Current platform id does not match iris platform id, this might lead to inconsistencies on playback.","[Iris][Core]"),e.type&&a.default.getProp(e,"asset."+e.type+".0")!==a.default.getProp(t,e.type+".0")&&r.default.error("[Playing Index: "+this.getCurrentIndex()+"][Given Index: "+a.default.getProp(e,"index")+"]\n         Given Index doesn't match the current playing index.","[Iris][Context]")}},{key:"addCustomParamsToAsset",value:function(e){var t=e||this.getPlaylist()[this.getCurrentIndex()];return h.default.addCustomParamsToAsset(t)}},{key:"addCustomParamsToUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.default.getProp(n,"eid",this.eid),r=a.default.getProp(n,"index",this.getCurrentIndexByEid(i)),s=this.getPlaylistByEid(i)[r],o=e,l=void 0;return this.irisOptions.settings.enable_context_ads||"context"===t?(o=h.default.addCustomParamsToUrl(s,e,"context","context"),l="context"):this.irisOptions.settings.enable_category_ads||"category"===t?(o=h.default.addCategoryParamToUrl(s,e),l="iab"):(this.irisOptions.settings.enable_category_cust_params_ads||"category_cust_params"===t)&&(o=h.default.addCustomParamsToUrl(s,e,"categories","iab"),l="iab"),this.verifyCorrectAssetPlaying({type:l,index:r,asset:s}),o}},{key:"addCallbackBase",value:function(e,t){var n=this;switch(r.default.debug("Registering new callback: "+e,"ENTRY",this.eid),e){case"addToPlaylist":var i=u.default.prototype.addToPlaylist;u.default.prototype.addToPlaylist=function(){i(),t(n.recs)};break;case"next":d.Dispatcher.register(function(e){switch(e.actionType){case c.default.NEXT_SUCCESS:t(e.response.next)}});break;case"watch":d.Dispatcher.register(function(e){switch(e.actionType){case c.default.WATCH_SUCCESS:t(e.response.next,a.default.getProp(e,"response.default_recs",!1))}})}}}]),e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20),n(18);var i=s(n(55)),r=s(n(2)),a=s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.default.info("*** Iris Adaptive Plugin version "+a.default.version+" ***","IRIS.TV"),new i.default(t)};window.initializeIrisPlugin=function(e){return new o(e)},t.default=o}]);