var googleImaVansAdapter=function(){var D=function(n){var m=function(){var b,a=function(){var a=function(a){return"undefined"!==typeof a},b=function(){var b="u";try{a(window.opera)&&a(window.opera.buildNumber)?b="o":a(window.mozInnerScreenY)?b="g":a(window.chrome)&&a(window.chrome.csi)?b="c":a(window.msWriteProfilerMark)&&a(window.crypto)?b="e":a(window.attachEvent)||a(window.msCrypto)?b="i":a(window.WebKitPoint)&&(b="w")}catch(d){}return b}(),d=function(){var b=function(b){for(var d in b)if(b.hasOwnProperty(d)){var c=
b[d];""!==c&&"null"!==c&&"undefined"!==c&&null!==c&&a(c)||delete b[d]}return b},d=function(b){var d={},c,s;for(s in b)b.hasOwnProperty(s)&&(c=b[s],a(d[c])?d[c]+=s:d[c]=s);b={};for(s in d)d.hasOwnProperty(s)&&(c=d[s],b[c]=s);return b};return function(){var c=function(){var b={g:"",q:""};try{b.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(d){var c=d.message,c=c.substring(c.lastIndexOf("<")+1,c.lastIndexOf(">")),s;if(s=a(c))if(s=!1,a(window.navigator)&&
a(window.navigator.userAgent)){var e=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==e&&2==e.length&&(e=e[1].split("."),3==parseInt(e[0],10)&&6>=parseInt(e[1],10)&&(3==e.length?13>=parseInt(e[2],10)&&(s=!0):s=!0))}s&&(b.g=c)}return b},e={};try{e.a=encodeURIComponent(top.location.href)}catch(f){}try{e.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{e.c=encodeURIComponent(parent.document.referrer)}catch(k){}try{e.e=encodeURIComponent(window.document.referrer)}catch(h){}}try{e.d=
encodeURIComponent(window.location.href)}catch(B){}try{var l=c();e.g=encodeURIComponent(l.g);e.q=encodeURIComponent(l.q)}catch(m){}var e=b(e),e=d(e),c=[],g;for(g in e)e.hasOwnProperty(g)&&c.push({key:g,val:e[g]});c.sort(function(a,b){return a.val.length>b.val.length?1:a.val.length<b.val.length?-1:0});return c}()}();return{br:b,urls:d}},d=function(a,b,c){var d=["//"+k.getFwServerDomain(),"/db2/video/",b+"/",c+"/","skeleton.js?videoId=",g.getVideoId()].join("");b=function(a){d=[d,"&adsafe_url=",a.val,
"&adsafe_type=",a.key].join("")};try{a.urls.forEach(b),d=[d,"&adsafe_jsinfo=br:",a.br].join("")}catch(s){l.report(e.DIAGNOSTIC.BUILD_VIDEOAPI_URL,s)}return d},c=function(){if(this.readyState==e.XHR.READY_STATE.DONE)if(this.status==e.HTTP.STATUS_CODE.OK)try{b("failed"===JSON.parse(this.responseText).action?e.BLOCKING_RESPONSE.BLOCK:e.BLOCKING_RESPONSE.SAFE)}catch(a){l.report(e.DIAGNOSTIC.BLOCK_AD,a)}else l.report(e.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})};return{init:function(e,
f,t){var h=a();e=d(h,e,f);b=t;k.sendUrlRequest(e,c)}}}(),v=function(){var b=[];return{addCallback:function(a,d){var c=0;d=d||Number.MAX_VALUE;b.push(function(){c<d&&(c++,a.apply({},arguments))})},executeCallbacks:function(){var a=arguments;b.forEach(function(b){b.apply({},a)})}}},f=function(){var b=window;return{getWin:function(){return b},setWin:function(a){(a=a&&a.ownerDocument)&&a.defaultView?b=a.defaultView:a&&a.parentWindow?b=a.parentWindow:l.report(e.DIAGNOSTIC.SET_CONTEXT,{message:""})},getDoc:function(){return b.document}}}(),
h=function(){var b,a=[],d=!1,c=function(a){var b="";Object.keys(a).forEach(function(d){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(d)&&(b+="&"+d+"="+a[d])});return b},x=function(d){if(g.isEstablished()){var f;try{if(f=k.stringify(d))if("AdImpression"===d.messageType)k.getWindow()[b](f);else k.getWindow().postMessage(f,"*")}catch(x){l.report(e.DIAGNOSTIC.DISPATCH_MESSAGE,x)}}else if(g.canNeverBeEstablished()){f=k.getFwServerDomain();var t=h.config;try{"AdImpression"===d.messageType&&
(h.isCmTag?k.sendUrlRequest(["//"+f,"/mon?",c(t)].join("")):h.isFwTag&&k.sendUrlRequest(["//"+f,"/rfw/st/",t.advEntityId+"/"+t.pubEntityId,"/skeleton.js"].join("")))}catch(m){l.report(e.DIAGNOSTIC.DISPATCH_MESSAGE,m)}}else try{a.push(d)}catch(B){l.report(e.DIAGNOSTIC.CACHE_MESSAGE,B)}},f=function(a,b){k.sendMonitoringDebugPixel(e.MONITORING.AD_STOPPED,h.monitoringQS());t(a,b)},t=function(a,b){try{x({messageType:a,id:g.getVideoId(),time:k.now(),partner:p.getPartnerCode(),eventData:b})}catch(d){l.report(e.DIAGNOSTIC.SEND_EVENT,
d)}},m={AdImpression:function(a,b){var c=q.getInjector();d||(b&&(b.ext_passthrough=h.passThroughObj),d=!0,k.sendMonitoringDebugPixel(e.MONITORING.AD_IMPRESSION,h.monitoringQS()),c.onInjectionResolution(function(){t(a,b)}),c.resolveInjection())},AdStopped:f,AdVideoComplete:f,AdError:function(a,b){k.sendMonitoringDebugPixel(e.MONITORING.AD_ERROR,h.monitoringQS());t(a,b)}};return{sendEvent:function(a,b){var d=m[a]||t;q.vans.hasBegun()&&d(a,b)},setImpressionCallback:function(a){b=a},flushUnsentEvents:function(){try{a.forEach(x)}catch(b){l.report(e.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,
b)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){d=!1;a.length=0}}}(),l=function(){var b={};return{report:function(a,d,c){if(!b[a])try{b[a]=!0;var e="//"+k.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(p.getPartnerCode())+"_"+a+"&err:"+encodeURIComponent(d.message);c&&(e+="&config:"+encodeURIComponent(JSON.stringify(c)));k.sendUrlRequest(e)}catch(f){}}}}(),p=function(){return{initCM:function(b,a){y.initCM(b,a)},initFW:function(b,a,d){y.initFW(b,
a,d)},getPartnerCode:function(){return q.get().partnerCode},getPassThroughObj:function(){return q.get().passThroughObj},getAltMonDomain:function(){return q.get().monDomain},hasDebugEnabled:function(){return q.get().debugEnabled}}}(),g=function(){var b,a=!1,d=!1,c=function(b,d){b==f()&&(a=!0,h.setImpressionCallback(d),k.sendMonitoringDebugPixel(e.MONITORING.HANDSHAKE_SUCCESS,h.monitoringQS()),h.flushUnsentEvents());return a?e.VIDEO_CHANNEL:null},f=function(){b||(b=k.generateUID());return b};return{getVideoId:f,
setNodeInterface:function(a){var b,d,s,h=f();try{b="IASid"+h,d="blockAd"+h,s="getIasVidBridgeVersion"+h,a.className+=" integral-vid-"+h,a[d]=k.noop,a[b]=c,a[s]=function(){return"2"},a.getVersion=function(){return e.INTERNAL_VERSION}}catch(m){l.report(e.DIAGNOSTIC.SET_NODE_INTERFACE,m)}},isEstablished:function(){return a},canNeverBeEstablished:function(){return d},giveUpOnHandshaking:function(){d=!0;h.flushUnsentEvents()},resetHandshake:function(){d=a=!1}}}(),r=function(){var b=v();return{addCallback:function(a){b.addCallback(a,
1)},executeCallbacks:b.executeCallbacks}},z=function(b){var a=!1,d=!1,c=new r,f=!1,h=function(a,b){var d,c=k.getFwServerDomain(),f=function(a){var b="";Object.keys(a).forEach(function(d){"advEntityId"!=d&&"pubEntityId"!=d&&"partner"!=d&&(b+="&"+d+"="+a[d])});return b};try{d=["//",c,a,"?videoId=",g.getVideoId(),f(b)].join("")}catch(h){l.report(e.DIAGNOSTIC.BUILD_SRC_URL,h)}return d},t=function(h){var t,m=function(){!a&&b.parentNode?(b.parentNode.appendChild(h),clearInterval(t),d=a=!0,k.sendMonitoringDebugPixel(e.MONITORING.FWJS_INJECTED,
u.buildMonitoringQS())):f&&(d=!0,clearInterval(t),g.giveUpOnHandshaking());d&&c.executeCallbacks()};m();a||(t=setInterval(m,200))},m=function(){var a=b&&b.ownerDocument,d=a&&a.parentWindow;return!!(a&&a.defaultView||d)};return{injectTagScript:function(a,b){var c,f=k.getDocument();if(m()){var x=function(a){k.sendMonitoringDebugPixel(e.MONITORING.FWJS_LOAD_SUCCESS,u.buildMonitoringQS())},l=function(a){g.giveUpOnHandshaking();k.sendMonitoringDebugPixel(e.MONITORING.FWJS_LOAD_ERROR,u.buildMonitoringQS())};
try{c=f.createElement("script"),c.src=h(a,b),c.addEventListener("load",x),c.addEventListener("error",l),t(c)}catch(n){g.giveUpOnHandshaking(),k.sendMonitoringPixel(e.MONITORING.INJECTION_ERR)}}else d=!0,g.giveUpOnHandshaking()},sendInjectionDiagnostics:function(){var a=b&&b.ownerDocument,d=b&&b.parentNode,c=a&&(a.defaultView||a.parentWindow),f=e.MONITORING.AD_NODE_TYPE+"_"+(b?b.constructor.name||b.nodeName||typeof b:"null");b||k.sendMonitoringDebugPixel(e.MONITORING.AD_NODE_NULL,u.buildMonitoringQS());
b&&!d&&k.sendMonitoringDebugPixel(e.MONITORING.AD_NODE_DETACHED,u.buildMonitoringQS());b&&!a&&k.sendMonitoringDebugPixel(e.MONITORING.AD_NODE_NO_DOC,u.buildMonitoringQS());a&&!c&&k.sendMonitoringDebugPixel(e.MONITORING.AD_NODE_NO_WINDOW,u.buildMonitoringQS());k.sendMonitoringDebugPixel(f,u.buildMonitoringQS())},onInjectionResolution:function(a){c.addCallback(a);d&&c.executeCallbacks()},resolveInjection:function(){f=!0}}},A=function(){var b,a=!1,d=function(a){var e,f=!1;try{e=JSON.parse(a.data),f=
"unloadComplete"===e.msg&&e.id==g.getVideoId()}catch(h){}f&&(b(),k.getWindow().removeEventListener("message",d))};return{registerMeasurementCompleteHandler:function(c){b=c;a||(k.getWindow().addEventListener("message",d),a=!0)}}},e={INTERNAL_VERSION:"3.6.0",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",
FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",
AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}}},y=function(){var b=function(a,b,c,e){g.setNodeInterface(c);"function"===typeof b.onMeasurementComplete&&(new A).registerMeasurementCompleteHandler(b.onMeasurementComplete);
var f={};Object.getOwnPropertyNames(b).forEach(function(a){"debug"!==a&&"onMeasurementComplete"!==a&&(f[a]=b[a])});e.injectTagScript(a,f)};return{initCM:function(a,d){var c;if(!q.vans.hasBegun()){if(!a||!a.partner)throw Error("Missing partner code");f.setWin(d);q.setPreErrorConfig(a,"cm");try{if(!a.anId)throw Error("Missing anId");q.vans.begin();c=new z(d);q.setInjector(c);q.setConfig(a);k.sendMonitoringDebugPixel(e.MONITORING.VANS_INITIALIZED,u.buildMonitoringQS());k.sendMonitoringDebugPixel(e.MONITORING.IMPRESSION_DOMAIN_BLOCKING,
u.buildMonitoringQS(),k.getFwServerDomain());c.sendInjectionDiagnostics();b("/jsvid",a,d,c)}catch(h){l.report(e.DIAGNOSTIC.INIT_CM,h)}}},initFW:function(a,d,c){var h,g;if(!q.vans.hasBegun()){if(!a||!a.partner)throw Error("Missing partner code");f.setWin(d);q.setPreErrorConfig(a,"fw");try{if(!a.advEntityId||!a.pubEntityId)throw Error("Missing client id: advEntityId: "+a.advEntityId+" ,pubEntityId: "+a.pubEntityId);q.vans.begin();g=new z(d);q.setInjector(g);q.setConfig(a);k.sendMonitoringDebugPixel(e.MONITORING.VANS_INITIALIZED,
u.buildMonitoringQS());k.sendMonitoringDebugPixel(e.MONITORING.IMPRESSION_DOMAIN_BLOCKING,u.buildMonitoringQS(),k.getFwServerDomain());g.sendInjectionDiagnostics();c&&m.init(a.advEntityId,a.pubEntityId,c);h="/fwjsvid/st/"+a.advEntityId+"/"+a.pubEntityId+"/skeleton.js";b(h,a,d,g)}catch(t){l.report(e.DIAGNOSTIC.INIT_FW,t)}}}}}(),u={buildMonitoringQS:function(){var b=e.PSUEDO_IMPRESSION_ID_PREFIX+g.getVideoId(),a=q.getInfoParams();return["&chanId="+a.anId,"planId="+a.advEntityId,"placementId="+a.pubEntityId,
"advId="+a.campId,"pubOrder="+a.placementId,"pubCreative="+a.creativeId,"impId="+(a.impId||b),"ts="+Date.now(),"custom="+e.INTERNAL_VERSION,"custom2=jv3&custom3="+q.get().tagType,"adsafe_par"].join("&")}},q=function(){var b={},a=!1,d={},c,f=function(a){"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach(function(b){d[b]=a[b]});d.monDomain=b.monDomain},m=function(a){h.monitoringQS=u.buildMonitoringQS;h.passThroughObj=b.passThroughObj;Object.keys(a).forEach(function(b){h[b]=
a[b]})};return{vans:{hasBegun:function(){return a},begin:function(){a=!0}},setInjector:function(a){c=a},getInjector:function(){return c},setPreErrorConfig:function(a,d){b.tagType=d;var c;c=a.partner;var e=/[^\w-.]/g;c="string"===typeof c?c.replace(e,""):c;b.partnerCode=c;b.debugEnabled=a.debug&&a.debug.enabled;b.debugEnabled&&(b.monDomain=a.debug.monDomain)},setConfig:function(a){f(a);b.passThroughObj={vv:e.INTERNAL_VERSION,vanstag:b.tagType,xcamp:d.campId,xplac:d.placementId,xcreat:d.creativeId,
ximp:d.impId,xpc:b.partnerCode};b.config=a;m({isFwTag:"fw"===b.tagType,isCmTag:"cm"===b.tagType,config:a})},getInfoParams:function(){return d},get:function(){return b}}}(),k={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(b){try{this.sendUrlRequest(["//"+k.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(p.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+b)].join(""))}catch(a){l.report(e.DIAGNOSTIC.SEND_MONITORING_PIXEL,a)}},sendMonitoringDebugPixel:function(){var b=
[e.MONITORING.AD_STOPPED],a={};return function(d,c,f){var h=p.hasDebugEnabled(),m=-1<b.indexOf(d)&&a[d];if(h&&!m)try{var g=e.DIAGNOSTIC_MONITORING_DOMAIN,n=p.getAltMonDomain();f=f||n||g;var n=f===n?"925116":"10173",v=k.addProtocolToDomain(f),q=encodeURIComponent(d),r=encodeURIComponent(p.getPartnerCode()),u;u=c.replace(/=undefined&/g,"=&");k.sendUrlRequest(v+"/mon?anId="+n+"&campId="+r+"&pubId="+q+u);a[d]=!0}catch(w){l.report(e.DIAGNOSTIC.SEND_MONITORING_PIXEL,w)}}}(),sendUrlRequest:function(b,a){var d,
c;if(b){d=this.getWindow();try{c=new d.XMLHttpRequest,a&&(c.onreadystatechange=a),c.open(e.HTTP.VERBS.GET,b),c.send()}catch(f){}}},stringify:function(b){if("AdImpression"!==b.messageType)return JSON.stringify(b);var a={};a.passthroughObj=p.getPassThroughObj();var d="";try{d=JSON.stringify(b)}catch(c){l.report(e.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,c,a);return}return d},addProtocolToDomain:function(b){return b.match(/^[a-zA-Z]+:\/\//)?b:"https://"+b},getWindow:function(){return f.getWin()},getDocument:function(){return f.getDoc()},
generateUID:function(){var b,a="";try{for(b=0;b<e.S4_ITERATIONS;b++)a=[a,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(d){}return a},getFwServerDomain:function(){return n||e.PROD_DOMAIN},noop:function(){}};return{initFW:p.initFW,initCM:p.initCM,sendEvent:h.sendEvent}},E=function(n){var m=["GDFP"],v=["AdX/AdSense","AdSense/AdX"],f={partner:r.PARTNER_ID};if(0<n.getWrapperAdIds().length){var f=g.objectAssign({},f),h=n.getWrapperAdSystems()[0],l=0,p=h;-1<m.indexOf(p)||
-1<v.indexOf(p)||(l=n.getWrapperAdSystems().length-1,h=n.getWrapperAdSystems()[l]);-1<m.indexOf(h)?(m=l,f.pubCreative=n.getWrapperCreativeIds()[m],f.placementId=n.getWrapperAdIds()[m]):-1<v.indexOf(h)&&(f.pubId="AdX",f.placementId=n.getDealId())}else f=g.objectAssign({},f),h=n.getAdSystem(),-1<m.indexOf(h)?(f.placementId=n.getAdId(),f.pubCreative=n.getCreativeId()):-1<v.indexOf(h)&&(f.pubId="AdX",f.placementId=n.getDealId());return n=f},g=function(){var g=function(m){if(Object.entries)return Object.entries(m);
for(var g=Object.keys(m),f=g.length,h=Array(f);f--;)h[f]=[g[f],m[g[f]]];return h};return{sendDiag:function(g,n,f){try{(new Image).src="//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js-adapter_"+r.PARTNER_ID+"_"+r.INTERNAL_VERSION+"_"+n+"&err:"+encodeURIComponent(g)+"&config:"+encodeURIComponent(JSON.stringify(f))}catch(h){}},isObject:function(g){return null!==g&&"object"===typeof g},getKeysByValue:function(m,r){var f=[];g(m).filter(function(f){return f[1]===r}).forEach(function(h){f.push(h[0])});
return f},isDefined:function(g){return"undefined"!==typeof g},objectEntries:g,objectAssign:function(g,n){if(null==g)throw new TypeError("Cannot convert undefined or null to object");if("function"!==typeof Object.assign){for(var f=Object(g),h=1;h<arguments.length;h++){var l=arguments[h];if(null!=l)for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(f[p]=l[p])}return f}return Object.assign.apply(this,arguments)}}}(),r={ADAPTER:"google-ima",PARTNER_ID:"ima",INTERNAL_VERSION:"2.2.2",DEFAULT_PLAYBACK_STATE:{ad_duration:-2,
volume:-2,viewMode:"normal"},VANS_DAI_EVENT_MAP:{AdImpression:"STARTED",AdVideoFirstQuartile:"FIRST_QUARTILE",AdVideoMidpoint:"MIDPOINT",AdVideoThirdQuartile:"THIRD_QUARTILE",AdVideoComplete:"COMPLETE",AdClickThru:"CLICK",AdError:"ERROR"},VANS_IMA_EVENT_MAP:{AdStarted:"STARTED",AdSkipped:"SKIPPED",AdSkippableStateChange:"SKIPPABLE_STATE_CHANGED",AdVolumeChange:"VOLUME_CHANGED",AdRemainingTimeChange:"DURATION_CHANGE",AdImpression:"IMPRESSION",AdVideoStart:"STARTED",AdVideoFirstQuartile:"FIRST_QUARTILE",
AdVideoMidpoint:"MIDPOINT",AdVideoThirdQuartile:"THIRD_QUARTILE",AdVideoComplete:"COMPLETE",AdClickThru:"CLICK",AdPaused:"PAUSED",AdPlaying:"RESUMED",AdError:"AD_ERROR"}};return function(){var n,m,v,f,h,l,p,w=function(a,b){var c=b.getAd&&b.getAd(),e={volume:m.getVolume(),ad_duration:p.ad_duration};0>e.ad_duration&&(e.ad_duration=c&&g.isDefined(c.getDuration())?c.getDuration():-2);e.height=c&&c.getHeight?c.getHeight():c.getVastMediaHeight();e.width=c&&c.getWidth?c.getWidth():c.getVastMediaWidth();
p.volume!==r.DEFAULT_PLAYBACK_STATE.volume&&e.volume!==p.volume&&"AdVolumeChange"!==a&&n.sendEvent("AdVolumeChange",e);n.sendEvent(a,e);p=g.objectAssign({},e)},C=function(a,b){return g.isObject(a)?g.objectAssign({},a,b):b},z=function(a){var b=a.type,b=g.getKeysByValue(f[b===f.AdErrorEvent.Type.AD_ERROR?"AdErrorEvent":"AdEvent"].Type,b)[0];g.getKeysByValue(r.VANS_IMA_EVENT_MAP,b).forEach(function(b){w(b,a)})},A=function(){m.addEventListener(f.AdEvent.Type.LOADED,k);Object.keys(r.VANS_IMA_EVENT_MAP).forEach(function(a){a=
r.VANS_IMA_EVENT_MAP[a];m.addEventListener(f["AD_ERROR"===a?"AdErrorEvent":"AdEvent"].Type[a],z)})},e=function(){m.removeEventListener(f.AdEvent.Type.LOADED,k);Object.keys(r.VANS_IMA_EVENT_MAP).forEach(function(a){a=r.VANS_IMA_EVENT_MAP[a];m.removeEventListener(f["AD_ERROR"===a?"AdErrorEvent":"AdEvent"].Type[a],z)})},y=function(a){var b=g.getKeysByValue(f.dai.api.StreamEvent.Type,a.type)[0];g.getKeysByValue(r.VANS_DAI_EVENT_MAP,b).forEach(function(b){w(b,a)})},u=function(){v.addEventListener(f.dai.api.StreamEvent.Type.STARTED,
b);Object.keys(r.VANS_DAI_EVENT_MAP).forEach(function(a){v.addEventListener(f.dai.api.StreamEvent.Type[r.VANS_DAI_EVENT_MAP[a]],y)})},q=function(){v.removeEventListener(f.dai.api.StreamEvent.Type.STARTED,b);Object.keys(r.VANS_DAI_EVENT_MAP).forEach(function(a){v.removeEventListener(f.dai.api.StreamEvent.Type[r.VANS_DAI_EVENT_MAP[a]],y)})},k=function(a){var b=l&&l.fwServerDomain,c=a.getAd&&a.getAd(),c=new E(c),c=C(l,c);p=g.objectAssign({},r.DEFAULT_PLAYBACK_STATE);try{n=new D(b),n.initCM(c,h)}catch(e){g.sendDiag(e,
"initCm",c)}w("AdLoaded",a)},b=function(a){var b=l&&l.fwServerDomain,c=a.getAd&&a.getAd(),c=new E(c),c=C(l,c);p=g.objectAssign({},r.DEFAULT_PLAYBACK_STATE);try{n=new D(b),n.initCM(c,h)}catch(e){g.sendDiag(e,"initCm",c)}w("AdVideoStart",a);w("AdImpression",a)};return{init:function(a,b,c,e,k){if(g.isDefined(a)){var n=!1;g.isDefined(e)&&g.isDefined(e.anId)?n=!0:console.error("The Integral Google IMA Adapter is missing a valid config with the required anId macro. The Web Video SDK will fail to initialize.");
n&&(f=a.ima,h=c,l=e,m=b,A(),g.isDefined(k)&&(v=k,u()))}else console.error("The Integral Ad Science VANS Adaptor did not receive Google IMA SDK's 'google' object as the first argument during initialization.")},dispose:function(){l=h=void 0;g.isDefined(m)?(e(),m=void 0):console.warn("The Integral Ad Science VANS Adaptor was disposed prior to being initialized");g.isDefined(v)&&(q(),v=void 0);n=void 0}}}()}();
